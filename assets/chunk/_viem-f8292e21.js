import{ag as e,ah as t,ai as r,aj as n}from"./__vendor-b5f28a7a.js";function a(e,t={}){const{fees:r=e.fees,formatters:n=e.formatters,serializers:a=e.serializers}=t;return{...e,fees:r,formatters:n,serializers:a}}class BaseError extends Error{constructor(e,t={}){var r;super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"viem@1.21.3"});const n=t.cause instanceof BaseError?t.cause.details:(null==(r=t.cause)?void 0:r.message)?t.cause.message:t.details,a=t.cause instanceof BaseError&&t.cause.docsPath||t.docsPath;this.message=[e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...a?[`Docs: https://viem.sh${a}.html${t.docsSlug?`#${t.docsSlug}`:""}`]:[],...n?[`Details: ${n}`]:[],`Version: ${this.version}`].join("\n"),t.cause&&(this.cause=t.cause),this.details=n,this.docsPath=a,this.metaMessages=t.metaMessages,this.shortMessage=e}walk(e){return o(this,e)}}function o(e,t){return(null==t?void 0:t(e))?e:e&&"object"==typeof e&&"cause"in e?o(e.cause,t):t?null:e}class IntegerOutOfRangeError extends BaseError{constructor({max:e,min:t,signed:r,size:n,value:a}){super(`Number "${a}" is not in safe ${n?`${8*n}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class InvalidHexBooleanError extends BaseError{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidHexBooleanError"})}}class SizeOverflowError extends BaseError{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}function s(e,{strict:t=!0}={}){return!!e&&("string"==typeof e&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")))}function i(e){return s(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}function c(e,{dir:t="left"}={}){let r="string"==typeof e?e.replace("0x",""):e,n=0;for(let a=0;a<r.length-1&&"0"===r["left"===t?a:r.length-a-1].toString();a++)n++;return r="left"===t?r.slice(n):r.slice(0,r.length-n),"string"==typeof e?(1===r.length&&"right"===t&&(r=`${r}0`),`0x${r.length%2==1?`0${r}`:r}`):r}class SliceOffsetOutOfBoundsError extends BaseError{constructor({offset:e,position:t,size:r}){super(`Slice ${"start"===t?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SliceOffsetOutOfBoundsError"})}}class SizeExceedsPaddingSizeError extends BaseError{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}function u(e,{dir:t,size:r=32}={}){return"string"==typeof e?l(e,{dir:t,size:r}):function(e,{dir:t,size:r=32}={}){if(null===r)return e;if(e.length>r)throw new SizeExceedsPaddingSizeError({size:e.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let a=0;a<r;a++){const o="right"===t;n[o?a:r-a-1]=e[o?a:e.length-a-1]}return n}(e,{dir:t,size:r})}function l(e,{dir:t,size:r=32}={}){if(null===r)return e;const n=e.replace("0x","");if(n.length>2*r)throw new SizeExceedsPaddingSizeError({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n["right"===t?"padEnd":"padStart"](2*r,"0")}`}const d=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function p(e,t={}){return"number"==typeof e||"bigint"==typeof e?m(e,t):"string"==typeof e?g(e,t):"boolean"==typeof e?f(e,t):h(e,t)}function f(e,t={}){const r=`0x${Number(e)}`;return"number"==typeof t.size?(k(r,{size:t.size}),u(r,{size:t.size})):r}function h(e,t={}){let r="";for(let a=0;a<e.length;a++)r+=d[e[a]];const n=`0x${r}`;return"number"==typeof t.size?(k(n,{size:t.size}),u(n,{dir:"right",size:t.size})):n}function m(e,t={}){const{signed:r,size:n}=t,a=BigInt(e);let o;n?o=r?(1n<<8n*BigInt(n)-1n)-1n:2n**(8n*BigInt(n))-1n:"number"==typeof e&&(o=BigInt(Number.MAX_SAFE_INTEGER));const s="bigint"==typeof o&&r?-o-1n:0;if(o&&a>o||a<s){const t="bigint"==typeof e?"n":"";throw new IntegerOutOfRangeError({max:o?`${o}${t}`:void 0,min:`${s}${t}`,signed:r,size:n,value:`${e}${t}`})}const i=`0x${(r&&a<0?(1n<<BigInt(8*n))+BigInt(a):a).toString(16)}`;return n?u(i,{size:n}):i}const b=new TextEncoder;function g(e,t={}){return h(b.encode(e),t)}const y=new TextEncoder;function v(e,t={}){return"number"==typeof e||"bigint"==typeof e?function(e,t){const r=m(e,t);return P(r)}(e,t):"boolean"==typeof e?function(e,t={}){const r=new Uint8Array(1);if(r[0]=Number(e),"number"==typeof t.size)return k(r,{size:t.size}),u(r,{size:t.size});return r}(e,t):s(e)?P(e,t):x(e,t)}const w={zero:48,nine:57,A:65,F:70,a:97,f:102};function E(e){return e>=w.zero&&e<=w.nine?e-w.zero:e>=w.A&&e<=w.F?e-(w.A-10):e>=w.a&&e<=w.f?e-(w.a-10):void 0}function P(e,t={}){let r=e;t.size&&(k(r,{size:t.size}),r=u(r,{dir:"right",size:t.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const a=n.length/2,o=new Uint8Array(a);for(let s=0,i=0;s<a;s++){const e=E(n.charCodeAt(i++)),t=E(n.charCodeAt(i++));if(void 0===e||void 0===t)throw new BaseError(`Invalid byte sequence ("${n[i-2]}${n[i-1]}" in "${n}").`);o[s]=16*e+t}return o}function x(e,t={}){const r=y.encode(e);return"number"==typeof t.size?(k(r,{size:t.size}),u(r,{dir:"right",size:t.size})):r}function k(e,{size:t}){if(i(e)>t)throw new SizeOverflowError({givenSize:i(e),maxSize:t})}function N(e,t={}){const{signed:r}=t;t.size&&k(e,{size:t.size});const n=BigInt(e);if(!r)return n;const a=(e.length-2)/2;return n<=(1n<<8n*BigInt(a)-1n)-1n?n:n-BigInt(`0x${"f".padStart(2*a,"f")}`)-1n}function T(e,t={}){let r=e;if(t.size&&(k(r,{size:t.size}),r=c(r)),"0x00"===c(r))return!1;if("0x01"===c(r))return!0;throw new InvalidHexBooleanError(r)}function I(e,t={}){return Number(N(e,t))}function R(e,t={}){let r=P(e);return t.size&&(k(r,{size:t.size}),r=c(r,{dir:"right"})),(new TextDecoder).decode(r)}const F={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559"};function B(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?I(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?I(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?F[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if("bigint"==typeof t.v){if(0n===t.v||27n===t.v)return 0;if(1n===t.v||28n===t.v)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),"legacy"===t.type&&(delete t.accessList,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),"eip2930"===t.type&&(delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t}function $(e){var t;const r=null==(t=e.transactions)?void 0:t.map((e=>"string"==typeof e?e:B(e)));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,difficulty:e.difficulty?BigInt(e.difficulty):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:r,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}function A(e,{args:t,eventName:r}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...r?{args:t,eventName:r}:{}}}const O={"0x0":"reverted","0x1":"success"};function C(e){return{...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map((e=>A(e))):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?I(e.transactionIndex):null,status:e.status?O[e.status]:null,type:e.type?F[e.type]||e.type:null}}const j={legacy:"0x0",eip2930:"0x1",eip1559:"0x2"};function M(e){return{...e,gas:void 0!==e.gas?m(e.gas):void 0,gasPrice:void 0!==e.gasPrice?m(e.gasPrice):void 0,maxFeePerGas:void 0!==e.maxFeePerGas?m(e.maxFeePerGas):void 0,maxPriorityFeePerGas:void 0!==e.maxPriorityFeePerGas?m(e.maxPriorityFeePerGas):void 0,nonce:void 0!==e.nonce?m(e.nonce):void 0,type:void 0!==e.type?j[e.type]:void 0,value:void 0!==e.value?m(e.value):void 0}}class InvalidAddressError extends BaseError{constructor({address:e}){super(`Address "${e}" is invalid.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}class ChainDoesNotSupportContract extends BaseError{constructor({blockNumber:e,chain:t,contract:r}){super(`Chain "${t.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}}class ChainMismatchError extends BaseError{constructor({chain:e,currentChainId:t}){super(`The current chain of the wallet (id: ${t}) does not match the target chain for the transaction (id: ${e.id} \u2013 ${e.name}).`,{metaMessages:[`Current Chain ID:  ${t}`,`Expected Chain ID: ${e.id} \u2013 ${e.name}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainMismatchError"})}}class ChainNotFoundError extends BaseError{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotFoundError"})}}class ClientChainNotConfiguredError extends BaseError{constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}}const S={gwei:9,wei:18},z={ether:-9,wei:9},D={ether:-18,gwei:-9};function L(e,t){let r=e.toString();const n=r.startsWith("-");n&&(r=r.slice(1)),r=r.padStart(t,"0");let[a,o]=[r.slice(0,r.length-t),r.slice(r.length-t)];return o=o.replace(/(0+)$/,""),`${n?"-":""}${a||"0"}${o?`.${o}`:""}`}function G(e,t="wei"){return L(e,z[t])}class ExecutionRevertedError extends BaseError{constructor({cause:e,message:t}={}){var r;const n=null==(r=null==t?void 0:t.replace("execution reverted: ",""))?void 0:r.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty(ExecutionRevertedError,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(ExecutionRevertedError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class FeeCapTooHighError extends BaseError{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${G(t)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(FeeCapTooHighError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class FeeCapTooLowError extends BaseError{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${G(t)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(FeeCapTooLowError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class NonceTooHighError extends BaseError{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}is higher than the next one expected.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(NonceTooHighError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class NonceTooLowError extends BaseError{constructor({cause:e,nonce:t}={}){super([`Nonce provided for the transaction ${t?`(${t}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join("\n"),{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty(NonceTooLowError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class NonceMaxValueError extends BaseError{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}exceeds the maximum allowed nonce.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty(NonceMaxValueError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class InsufficientFundsError extends BaseError{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join("\n"),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}}Object.defineProperty(InsufficientFundsError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class IntrinsicGasTooHighError extends BaseError{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(IntrinsicGasTooHighError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class IntrinsicGasTooLowError extends BaseError{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction is too low.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty(IntrinsicGasTooLowError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class TransactionTypeNotSupportedError extends BaseError{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(TransactionTypeNotSupportedError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class TipAboveFeeCapError extends BaseError{constructor({cause:e,maxPriorityFeePerGas:t,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${t?` = ${G(t)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${G(r)} gwei`:""}).`].join("\n"),{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}Object.defineProperty(TipAboveFeeCapError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class UnknownNodeError extends BaseError{constructor({cause:e}){super(`An error occurred while executing: ${null==e?void 0:e.shortMessage}`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}}const U=/^0x[a-fA-F0-9]{40}$/;function q(e){return U.test(e)}function _(e){return"string"==typeof e[0]?H(e):function(e){let t=0;for(const a of e)t+=a.length;const r=new Uint8Array(t);let n=0;for(const a of e)r.set(a,n),n+=a.length;return r}(e)}function H(e){return`0x${e.reduce(((e,t)=>e+t.replace("0x","")),"")}`}const W=/^tuple(?<array>(\[(\d*)\])*)$/;function J(e){let t=e.type;if(W.test(e.type)&&"components"in e){t="(";const r=e.components.length;for(let a=0;a<r;a++){t+=J(e.components[a]),a<r-1&&(t+=", ")}const n=function(e,t){const r=e.exec(t);return null==r?void 0:r.groups}(W,e.type);return t+=`)${(null==n?void 0:n.array)??""}`,J({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function V(e){let t="";const r=e.length;for(let n=0;n<r;n++){t+=J(e[n]),n!==r-1&&(t+=", ")}return t}function Z(e,t,r){return n=>{var a;return(null==(a=e[t.name||r])?void 0:a.call(e,n))??t(e,n)}}function K(e,{includeName:t=!1}={}){if("function"!==e.type&&"event"!==e.type&&"error"!==e.type)throw new InvalidDefinitionTypeError(e.type);return`${e.name}(${X(e.inputs,{includeName:t})})`}function X(e,{includeName:t=!1}={}){return e?e.map((e=>function(e,{includeName:t}){if(e.type.startsWith("tuple"))return`(${X(e.components,{includeName:t})})${e.type.slice(5)}`;return e.type+(t&&e.name?` ${e.name}`:"")}(e,{includeName:t}))).join(t?", ":","):""}class AbiConstructorNotFoundError extends BaseError{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join("\n"),{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class AbiConstructorParamsNotFoundError extends BaseError{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join("\n"),{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}class AbiDecodingDataSizeTooSmallError extends BaseError{constructor({data:e,params:t,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join("\n"),{metaMessages:[`Params: (${X(t,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=t,this.size=r}}class AbiDecodingZeroDataError extends BaseError{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class AbiEncodingArrayLengthMismatchError extends BaseError{constructor({expectedLength:e,givenLength:t,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${t}`].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class AbiEncodingBytesSizeMismatchError extends BaseError{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${i(t)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class AbiEncodingLengthMismatchError extends BaseError{constructor({expectedLength:e,givenLength:t}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${t}`].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class AbiErrorSignatureNotFoundError extends BaseError{constructor(e,{docsPath:t}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class AbiEventSignatureEmptyTopicsError extends BaseError{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}}class AbiEventSignatureNotFoundError extends BaseError{constructor(e,{docsPath:t}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}}class AbiEventNotFoundError extends BaseError{constructor(e,{docsPath:t}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}}class AbiFunctionNotFoundError extends BaseError{constructor(e,{docsPath:t}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class AbiFunctionOutputsNotFoundError extends BaseError{constructor(e,{docsPath:t}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}class AbiItemAmbiguityError extends BaseError{constructor(e,t){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${K(e.abiItem)}\`, and`,`\`${t.type}\` in \`${K(t.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItemAmbiguityError"})}}class BytesSizeMismatchError extends BaseError{constructor({expectedSize:e,givenSize:t}){super(`Expected bytes${e}, got bytes${t}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class DecodeLogDataMismatch extends BaseError{constructor({abiItem:e,data:t,params:r,size:n}){super([`Data size of ${n} bytes is too small for non-indexed event parameters.`].join("\n"),{metaMessages:[`Params: (${X(r,{includeName:!0})})`,`Data:   ${t} (${n} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=t,this.params=r,this.size=n}}class DecodeLogTopicsMismatch extends BaseError{constructor({abiItem:e,param:t}){super([`Expected a topic for indexed event parameter${t.name?` "${t.name}"`:""} on event "${K(e,{includeName:!0})}".`].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class InvalidAbiEncodingTypeError extends BaseError{constructor(e,{docsPath:t}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class InvalidAbiDecodingTypeError extends BaseError{constructor(e,{docsPath:t}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class InvalidArrayError extends BaseError{constructor(e){super([`Value "${e}" is not a valid array.`].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class InvalidDefinitionTypeError extends BaseError{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}class FilterTypeNotSupportedError extends BaseError{constructor(e){super(`Filter type "${e}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}const Y=e=>{var t;return function(e){let t=!0,r="",n=0,a="",o=!1;for(let s=0;s<e.length;s++){const i=e[s];if(["(",")",","].includes(i)&&(t=!0),"("===i&&n++,")"===i&&n--,t)if(0!==n)" "!==i?(a+=i,r+=i):","!==e[s-1]&&","!==r&&",("!==r&&(r="",t=!1);else if(" "===i&&["event","function",""].includes(a))a="";else if(a+=i,")"===i){o=!0;break}}if(!o)throw new BaseError("Unable to normalize signature.");return a}("string"==typeof e?e:"function"===(t=e).type?`function ${t.name}(${V(t.inputs)})${t.stateMutability&&"nonpayable"!==t.stateMutability?` ${t.stateMutability}`:""}${t.outputs.length?` returns (${V(t.outputs)})`:""}`:"event"===t.type?`event ${t.name}(${V(t.inputs)})`:"error"===t.type?`error ${t.name}(${V(t.inputs)})`:"constructor"===t.type?`constructor(${V(t.inputs)})${"payable"===t.stateMutability?" payable":""}`:"fallback"===t.type?"fallback()":"receive() external payable")};function Q(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function ee(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function te(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}const re=BigInt(2**32-1),ne=BigInt(32);function ae(e,t=!1){return t?{h:Number(e&re),l:Number(e>>ne&re)}:{h:0|Number(e>>ne&re),l:0|Number(e&re)}}function oe(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let a=0;a<e.length;a++){const{h:o,l:s}=ae(e[a],t);[r[a],n[a]]=[o,s]}return[r,n]}const se=e=>e instanceof Uint8Array;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function ie(e){if("string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),!se(e))throw new Error("expected Uint8Array, got "+typeof e);return e}class Hash{clone(){return this._cloneInto()}}const[ce,ue,le]=[[],[],[]],de=BigInt(0),pe=BigInt(1),fe=BigInt(2),he=BigInt(7),me=BigInt(256),be=BigInt(113);for(let hn=0,mn=pe,bn=1,gn=0;hn<24;hn++){[bn,gn]=[gn,(2*bn+3*gn)%5],ce.push(2*(5*gn+bn)),ue.push((hn+1)*(hn+2)/2%64);let e=de;for(let t=0;t<7;t++)mn=(mn<<pe^(mn>>he)*be)%me,mn&fe&&(e^=pe<<(pe<<BigInt(t))-pe);le.push(e)}const[ge,ye]=oe(le,!0),ve=(e,t,r)=>r>32?((e,t,r)=>t<<r-32|e>>>64-r)(e,t,r):((e,t,r)=>e<<r|t>>>32-r)(e,t,r),we=(e,t,r)=>r>32?((e,t,r)=>e<<r-32|t>>>64-r)(e,t,r):((e,t,r)=>t<<r|e>>>32-r)(e,t,r);class Keccak extends Hash{constructor(e,t,r,n=!1,a=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Q(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var o;this.state=new Uint8Array(200),this.state32=(o=this.state,new Uint32Array(o.buffer,o.byteOffset,Math.floor(o.byteLength/4)))}keccak(){!function(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let n=0;n<10;n++)r[n]=e[n]^e[n+10]^e[n+20]^e[n+30]^e[n+40];for(let n=0;n<10;n+=2){const t=(n+8)%10,a=(n+2)%10,o=r[a],s=r[a+1],i=ve(o,s,1)^r[t],c=we(o,s,1)^r[t+1];for(let r=0;r<50;r+=10)e[n+r]^=i,e[n+r+1]^=c}let t=e[2],a=e[3];for(let r=0;r<24;r++){const n=ue[r],o=ve(t,a,n),s=we(t,a,n),i=ce[r];t=e[i],a=e[i+1],e[i]=o,e[i+1]=s}for(let n=0;n<50;n+=10){for(let t=0;t<10;t++)r[t]=e[n+t];for(let t=0;t<10;t++)e[n+t]^=~r[(t+2)%10]&r[(t+4)%10]}e[0]^=ge[n],e[1]^=ye[n]}r.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){te(this);const{blockLen:t,state:r}=this,n=(e=ie(e)).length;for(let a=0;a<n;){const o=Math.min(t-this.pos,n-a);for(let t=0;t<o;t++)r[this.pos++]^=e[a++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,0!=(128&t)&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){te(this,!1),ee(e),this.finish();const t=this.state,{blockLen:r}=this;for(let n=0,a=e.length;n<a;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,a-n);e.set(t.subarray(this.posOut,this.posOut+o),n),this.posOut+=o,n+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Q(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(function(e,t){ee(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:n,rounds:a,enableXOF:o}=this;return e||(e=new Keccak(t,r,n,o,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=r,e.outputLen=n,e.enableXOF=o,e.destroyed=this.destroyed,e}}const Ee=((e,t,r)=>function(e){const t=t=>e().update(ie(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}((()=>new Keccak(t,e,r))))(1,136,32);function Pe(e,t){const r=t||"hex",n=Ee(s(e,{strict:!1})?v(e):e);return"bytes"===r?n:p(n)}const xe=e=>{return t=(e=>Y(e))(e),Pe(v(t));var t};function ke(e,t,r,{strict:n}={}){return s(e,{strict:!1})?function(e,t,r,{strict:n}={}){Ne(e,t);const a=`0x${e.replace("0x","").slice(2*(t??0),2*(r??e.length))}`;n&&Te(a,t,r);return a}(e,t,r,{strict:n}):function(e,t,r,{strict:n}={}){Ne(e,t);const a=e.slice(t,r);n&&Te(a,t,r);return a}(e,t,r,{strict:n})}function Ne(e,t){if("number"==typeof t&&t>0&&t>i(e)-1)throw new SliceOffsetOutOfBoundsError({offset:t,position:"start",size:i(e)})}function Te(e,t,r){if("number"==typeof t&&"number"==typeof r&&i(e)!==r-t)throw new SliceOffsetOutOfBoundsError({offset:r,position:"end",size:i(e)})}function Ie(e,t){if(e.length!==t.length)throw new AbiEncodingLengthMismatchError({expectedLength:e.length,givenLength:t.length});const r=function({params:e,values:t}){const r=[];for(let n=0;n<e.length;n++)r.push(Re({param:e[n],value:t[n]}));return r}({params:e,values:t}),n=Fe(r);return 0===n.length?"0x":n}function Re({param:e,value:t}){const r=Be(e.type);if(r){const[n,a]=r;return function(e,{length:t,param:r}){const n=null===t;if(!Array.isArray(e))throw new InvalidArrayError(e);if(!n&&e.length!==t)throw new AbiEncodingArrayLengthMismatchError({expectedLength:t,givenLength:e.length,type:`${r.type}[${t}]`});let a=!1;const o=[];for(let s=0;s<e.length;s++){const t=Re({param:r,value:e[s]});t.dynamic&&(a=!0),o.push(t)}if(n||a){const e=Fe(o);if(n){const t=m(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?_([t,e]):t}}if(a)return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:_(o.map((({encoded:e})=>e)))}}(t,{length:n,param:{...e,type:a}})}if("tuple"===e.type)return function(e,{param:t}){let r=!1;const n=[];for(let a=0;a<t.components.length;a++){const o=t.components[a],s=Re({param:o,value:e[Array.isArray(e)?a:o.name]});n.push(s),s.dynamic&&(r=!0)}return{dynamic:r,encoded:r?Fe(n):_(n.map((({encoded:e})=>e)))}}(t,{param:e});if("address"===e.type)return function(e){if(!q(e))throw new InvalidAddressError({address:e});return{dynamic:!1,encoded:l(e.toLowerCase())}}(t);if("bool"===e.type)return function(e){return{dynamic:!1,encoded:l(f(e))}}(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){return function(e,{signed:t}){return{dynamic:!1,encoded:m(e,{size:32,signed:t})}}(t,{signed:e.type.startsWith("int")})}if(e.type.startsWith("bytes"))return function(e,{param:t}){const[,r]=t.type.split("bytes"),n=i(e);if(!r){let t=e;return n%32!=0&&(t=l(t,{dir:"right",size:32*Math.ceil((e.length-2)/2/32)})),{dynamic:!0,encoded:_([l(m(n,{size:32})),t])}}if(n!==parseInt(r))throw new AbiEncodingBytesSizeMismatchError({expectedSize:parseInt(r),value:e});return{dynamic:!1,encoded:l(e,{dir:"right"})}}(t,{param:e});if("string"===e.type)return function(e){const t=g(e),r=Math.ceil(i(t)/32),n=[];for(let a=0;a<r;a++)n.push(l(ke(t,32*a,32*(a+1)),{dir:"right"}));return{dynamic:!0,encoded:_([l(m(i(t),{size:32})),...n])}}(t);throw new InvalidAbiEncodingTypeError(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function Fe(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:r,encoded:n}=e[o];t+=r?32:i(n)}const r=[],n=[];let a=0;for(let o=0;o<e.length;o++){const{dynamic:s,encoded:c}=e[o];s?(r.push(m(t+a,{size:32})),n.push(c),a+=i(c)):r.push(c)}return _([...r,...n])}function Be(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const $e=e=>ke(Pe(v(Y(e))),0,4);function Ae({abi:e,args:t=[],name:r}){const n=s(r,{strict:!1}),a=e.filter((e=>n?"function"===e.type?$e(e)===r:"event"===e.type&&xe(e)===r:"name"in e&&e.name===r));if(0===a.length)return;if(1===a.length)return a[0];let o;for(const s of a){if(!("inputs"in s))continue;if(!t||0===t.length){if(!s.inputs||0===s.inputs.length)return s;continue}if(!s.inputs)continue;if(0===s.inputs.length)continue;if(s.inputs.length!==t.length)continue;if(t.every(((e,t)=>{const r="inputs"in s&&s.inputs[t];return!!r&&Oe(e,r)}))){if(o&&"inputs"in o&&o.inputs){const e=Ce(s.inputs,o.inputs,t);if(e)throw new AbiItemAmbiguityError({abiItem:s,type:e[0]},{abiItem:o,type:e[1]})}o=s}}return o||a[0]}function Oe(e,t){const r=typeof e,n=t.type;switch(n){case"address":return q(e);case"bool":return"boolean"===r;case"function":case"string":return"string"===r;default:return"tuple"===n&&"components"in t?Object.values(t.components).every(((t,r)=>Oe(Object.values(e)[r],t))):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n)?"number"===r||"bigint"===r:/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n)?"string"===r||e instanceof Uint8Array:!!/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n)&&(Array.isArray(e)&&e.every((e=>Oe(e,{...t,type:n.replace(/(\[[0-9]{0,}\])$/,"")}))))}}function Ce(e,t,r){for(const n in e){const a=e[n],o=t[n];if("tuple"===a.type&&"tuple"===o.type&&"components"in a&&"components"in o)return Ce(a.components,o.components,r[n]);const s=[a.type,o.type];if(!(!s.includes("address")||!s.includes("bytes20"))||(s.includes("address")&&s.includes("string")||!(!s.includes("address")||!s.includes("bytes")))&&q(r[n]))return s}}function je({abi:e,eventName:t,args:r}){var n;let a=e[0];if(t&&(a=Ae({abi:e,args:r,name:t}),!a))throw new AbiEventNotFoundError(t,{docsPath:"/docs/contract/encodeEventTopics"});if("event"!==a.type)throw new AbiEventNotFoundError(void 0,{docsPath:"/docs/contract/encodeEventTopics"});const o=K(a),s=xe(o);let i=[];if(r&&"inputs"in a){const e=null==(n=a.inputs)?void 0:n.filter((e=>"indexed"in e&&e.indexed)),t=Array.isArray(r)?r:Object.values(r).length>0?(null==e?void 0:e.map((e=>r[e.name])))??[]:[];t.length>0&&(i=(null==e?void 0:e.map(((e,r)=>Array.isArray(t[r])?t[r].map(((n,a)=>Me({param:e,value:t[r][a]}))):t[r]?Me({param:e,value:t[r]}):null)))??[])}return[s,...i]}function Me({param:e,value:t}){if("string"===e.type||"bytes"===e.type)return Pe(v(t));if("tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/))throw new FilterTypeNotSupportedError(e.type);return Ie([e],[t])}function Se(e,{method:t}){var r,n;const a={};return"fallback"===e.transport.type&&(null==(n=(r=e.transport).onResponse)||n.call(r,(({method:e,response:r,status:n,transport:o})=>{"success"===n&&t===e&&(a[r]=o.request)}))),t=>a[t]||e.request}async function ze(e,{address:t,abi:r,args:n,eventName:a,fromBlock:o,strict:s,toBlock:i}){const c=Se(e,{method:"eth_newFilter"}),u=a?je({abi:r,args:n,eventName:a}):void 0,l=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:"bigint"==typeof o?m(o):o,toBlock:"bigint"==typeof i?m(i):i,topics:u}]});return{abi:r,args:n,eventName:a,id:l,request:c(l),strict:s,type:"event"}}function De(e){return"string"==typeof e?{address:e,type:"json-rpc"}:e}function Le({abi:e,args:t,functionName:r}){let n=e[0];if(r&&(n=Ae({abi:e,args:t,name:r}),!n))throw new AbiFunctionNotFoundError(r,{docsPath:"/docs/contract/encodeFunctionData"});if("function"!==n.type)throw new AbiFunctionNotFoundError(void 0,{docsPath:"/docs/contract/encodeFunctionData"});const a=K(n);return H([$e(a),("inputs"in n&&n.inputs?Ie(n.inputs,t??[]):void 0)??"0x"])}const Ge={1:"An `assert` condition failed.",17:"Arithmic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Ue={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},qe={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function _e(e,t){const r=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),n=Pe(x(r),"bytes"),a=(t?r.substring(`${t}0x`.length):r).split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&a[o]&&(a[o]=a[o].toUpperCase()),(15&n[o>>1])>=8&&a[o+1]&&(a[o+1]=a[o+1].toUpperCase());return`0x${a.join("")}`}function He(e,t){if(!q(e))throw new InvalidAddressError({address:e});return _e(e,t)}function We(e,t){if("0x"===t&&e.length>0)throw new AbiDecodingZeroDataError;if(i(t)&&i(t)<32)throw new AbiDecodingDataSizeTooSmallError({data:t,params:e,size:i(t)});return function({data:e,params:t}){const r=[];let n=0;for(let a=0;a<t.length;a++){if(n>=i(e))throw new AbiDecodingDataSizeTooSmallError({data:e,params:t,size:i(e)});const o=t[a],{consumed:s,value:c}=Je({data:e,param:o,position:n});r.push(c),n+=s}return r}({data:t,params:e})}function Je({data:e,param:t,position:r}){const n=Be(t.type);if(n){const[a,o]=n;return function(e,{param:t,length:r,position:n}){if(!r){const r=I(ke(e,n,n+32,{strict:!0})),a=I(ke(e,r,r+32,{strict:!0}));let o=0;const s=[];for(let n=0;n<a;++n){const n=Je({data:ke(e,r+32),param:t,position:o});o+=n.consumed,s.push(n.value)}return{value:s,consumed:32}}if(Ve(t)){const a=Be(t.type),o=!(null==a?void 0:a[0]);let s=0;const i=[];for(let c=0;c<r;++c){const r=I(ke(e,n,n+32,{strict:!0})),a=Je({data:ke(e,r),param:t,position:o?s:32*c});s+=a.consumed,i.push(a.value)}return{value:i,consumed:32}}let a=0;const o=[];for(let s=0;s<r;++s){const r=Je({data:e,param:t,position:n+a});a+=r.consumed,o.push(r.value)}return{value:o,consumed:a}}(e,{length:a,param:{...t,type:o},position:r})}if("tuple"===t.type)return function(e,{param:t,position:r}){const n=0===t.components.length||t.components.some((({name:e})=>!e)),a=n?[]:{};let o=0;if(Ve(t)){const s=I(ke(e,r,r+32,{strict:!0}));for(let r=0;r<t.components.length;++r){const i=t.components[r],c=Je({data:ke(e,s),param:i,position:o});o+=c.consumed,a[n?r:null==i?void 0:i.name]=c.value}return{consumed:32,value:a}}for(let s=0;s<t.components.length;++s){const i=t.components[s],c=Je({data:e,param:i,position:r+o});o+=c.consumed,a[n?s:null==i?void 0:i.name]=c.value}return{consumed:o,value:a}}(e,{param:t,position:r});if("string"===t.type)return function(e,{position:t}){const r=I(ke(e,t,t+32,{strict:!0})),n=I(ke(e,r,r+32,{strict:!0}));if(0===n)return{consumed:32,value:""};const a=R(c(ke(e,r+32,r+32+n,{strict:!0})));return{consumed:32,value:a}}(e,{position:r});if(t.type.startsWith("bytes"))return function(e,{param:t,position:r}){const[n,a]=t.type.split("bytes");if(!a){const t=I(ke(e,r,r+32,{strict:!0})),n=I(ke(e,t,t+32,{strict:!0}));if(0===n)return{consumed:32,value:"0x"};return{consumed:32,value:ke(e,t+32,t+32+n,{strict:!0})}}const o=ke(e,r,r+parseInt(a),{strict:!0});return{consumed:32,value:o}}(e,{param:t,position:r});const a=ke(e,r,r+32,{strict:!0});if(t.type.startsWith("uint")||t.type.startsWith("int"))return function(e,{param:t}){const r=t.type.startsWith("int"),n=parseInt(t.type.split("int")[1]||"256");return{consumed:32,value:n>48?N(e,{signed:r}):I(e,{signed:r})}}(a,{param:t});if("address"===t.type)return function(e){return{consumed:32,value:_e(ke(e,-20))}}(a);if("bool"===t.type)return function(e){return{consumed:32,value:T(e)}}(a);throw new InvalidAbiDecodingTypeError(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}function Ve(e){var t;const{type:r}=e;if("string"===r)return!0;if("bytes"===r)return!0;if(r.endsWith("[]"))return!0;if("tuple"===r)return null==(t=e.components)?void 0:t.some(Ve);const n=Be(e.type);return!(!n||!Ve({...e,type:n[1]}))}function Ze({abi:e,data:t}){const r=ke(t,0,4);if("0x"===r)throw new AbiDecodingZeroDataError;const n=[...e||[],Ue,qe].find((e=>"error"===e.type&&r===$e(K(e))));if(!n)throw new AbiErrorSignatureNotFoundError(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:n,args:"inputs"in n&&n.inputs&&n.inputs.length>0?We(n.inputs,ke(t,4)):void 0,errorName:n.name}}const Ke=(e,t,r)=>JSON.stringify(e,((e,r)=>{const n="bigint"==typeof r?r.toString():r;return"function"==typeof t?t(e,n):n}),r);function Xe({abiItem:e,args:t,includeFunctionName:r=!0,includeName:n=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${r?e.name:""}(${e.inputs.map(((e,r)=>`${n&&e.name?`${e.name}: `:""}${"object"==typeof t[r]?Ke(t[r]):t[r]}`)).join(", ")})`}function Ye(e,t="wei"){return L(e,S[t])}function Qe(e){const t=Object.entries(e).map((([e,t])=>void 0===t||!1===t?null:[e,t])).filter(Boolean),r=t.reduce(((e,[t])=>Math.max(e,t.length)),0);return t.map((([e,t])=>`  ${`${e}:`.padEnd(r+1)}  ${t}`)).join("\n")}class FeeConflictError extends BaseError{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}}class InvalidSerializableTransactionError extends BaseError{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Qe(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- a Legacy Transaction with `gasPrice`"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSerializableTransactionError"})}}class TransactionExecutionError extends BaseError{constructor(e,{account:t,docsPath:r,chain:n,data:a,gas:o,gasPrice:s,maxFeePerGas:i,maxPriorityFeePerGas:c,nonce:u,to:l,value:d}){var p;const f=Qe({chain:n&&`${null==n?void 0:n.name} (id: ${null==n?void 0:n.id})`,from:null==t?void 0:t.address,to:l,value:void 0!==d&&`${Ye(d)} ${(null==(p=null==n?void 0:n.nativeCurrency)?void 0:p.symbol)||"ETH"}`,data:a,gas:o,gasPrice:void 0!==s&&`${G(s)} gwei`,maxFeePerGas:void 0!==i&&`${G(i)} gwei`,maxPriorityFeePerGas:void 0!==c&&`${G(c)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",f].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionExecutionError"}),this.cause=e}}class TransactionNotFoundError extends BaseError{constructor({blockHash:e,blockNumber:t,blockTag:r,hash:n,index:a}){let o="Transaction";r&&void 0!==a&&(o=`Transaction at block time "${r}" at index "${a}"`),e&&void 0!==a&&(o=`Transaction at block hash "${e}" at index "${a}"`),t&&void 0!==a&&(o=`Transaction at block number "${t}" at index "${a}"`),n&&(o=`Transaction with hash "${n}"`),super(`${o} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionNotFoundError"})}}class TransactionReceiptNotFoundError extends BaseError{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionReceiptNotFoundError"})}}class WaitForTransactionReceiptTimeoutError extends BaseError{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WaitForTransactionReceiptTimeoutError"})}}class CallExecutionError extends BaseError{constructor(e,{account:t,docsPath:r,chain:n,data:a,gas:o,gasPrice:s,maxFeePerGas:i,maxPriorityFeePerGas:c,nonce:u,to:l,value:d}){var p;const f=t?De(t):void 0,h=Qe({from:null==f?void 0:f.address,to:l,value:void 0!==d&&`${Ye(d)} ${(null==(p=null==n?void 0:n.nativeCurrency)?void 0:p.symbol)||"ETH"}`,data:a,gas:o,gasPrice:void 0!==s&&`${G(s)} gwei`,maxFeePerGas:void 0!==i&&`${G(i)} gwei`,maxPriorityFeePerGas:void 0!==c&&`${G(c)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",h].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=e}}class ContractFunctionExecutionError extends BaseError{constructor(e,{abi:t,args:r,contractAddress:n,docsPath:a,functionName:o,sender:s}){const i=Ae({abi:t,args:r,name:o}),c=i?Xe({abiItem:i,args:r,includeFunctionName:!1,includeName:!1}):void 0,u=Qe({address:n&&n,function:i?K(i,{includeName:!0}):void 0,args:c&&"()"!==c&&`${[...Array((null==o?void 0:o.length)??0).keys()].map((()=>" ")).join("")}${c}`,sender:s});super(e.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:e,docsPath:a,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Contract Call:",u].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=t,this.args=r,this.cause=e,this.contractAddress=n,this.functionName=o,this.sender=s}}class ContractFunctionRevertedError extends BaseError{constructor({abi:e,data:t,functionName:r,message:n}){let a,o,s,i,c;if(t&&"0x"!==t)try{o=Ze({abi:e,data:t});const{abiItem:r,errorName:n,args:a}=o;if("Error"===n)i=a[0];else if("Panic"===n){const[e]=a;i=Ge[e]}else{const e=r?K(r,{includeName:!0}):void 0,t=r&&a?Xe({abiItem:r,args:a,includeFunctionName:!1,includeName:!1}):void 0;s=[e?`Error: ${e}`:"",t&&"()"!==t?`       ${[...Array((null==n?void 0:n.length)??0).keys()].map((()=>" ")).join("")}${t}`:""]}}catch(u){a=u}else n&&(i=n);a instanceof AbiErrorSignatureNotFoundError&&(c=a.signature,s=[`Unable to decode signature "${c}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${c}.`]),super(i&&"execution reverted"!==i||c?[`The contract function "${r}" reverted with the following ${c?"signature":"reason"}:`,i||c].join("\n"):`The contract function "${r}" reverted.`,{cause:a,metaMessages:s}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.reason=i,this.signature=c}}class ContractFunctionZeroDataError extends BaseError{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}}class RawContractError extends BaseError{constructor({data:e,message:t}){super(t||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}class HttpRequestError extends BaseError{constructor({body:e,details:t,headers:r,status:n,url:a}){super("HTTP request failed.",{details:t,metaMessages:[n&&`Status: ${n}`,`URL: ${a}`,e&&`Request body: ${Ke(e)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=r,this.status=n,this.url=a}}class WebSocketRequestError extends BaseError{constructor({body:e,details:t,url:r}){super("WebSocket request failed.",{details:t,metaMessages:[`URL: ${r}`,`Request body: ${Ke(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WebSocketRequestError"})}}class RpcRequestError extends BaseError{constructor({body:e,error:t,url:r}){super("RPC Request failed.",{cause:t,details:t.message,metaMessages:[`URL: ${r}`,`Request body: ${Ke(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t.code}}class TimeoutError extends BaseError{constructor({body:e,url:t}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${t}`,`Request body: ${Ke(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}}class RpcError extends BaseError{constructor(e,{code:t,docsPath:r,metaMessages:n,shortMessage:a}){super(a,{cause:e,docsPath:r,metaMessages:n||(null==e?void 0:e.metaMessages)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.code=e instanceof RpcRequestError?e.code:t??-1}}class ProviderRpcError extends RpcError{constructor(e,t){super(e,t),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t.data}}class ParseRpcError extends RpcError{constructor(e){super(e,{code:ParseRpcError.code,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}Object.defineProperty(ParseRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class InvalidRequestRpcError extends RpcError{constructor(e){super(e,{code:InvalidRequestRpcError.code,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}Object.defineProperty(InvalidRequestRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class MethodNotFoundRpcError extends RpcError{constructor(e){super(e,{code:MethodNotFoundRpcError.code,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}Object.defineProperty(MethodNotFoundRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class InvalidParamsRpcError extends RpcError{constructor(e){super(e,{code:InvalidParamsRpcError.code,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join("\n")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}Object.defineProperty(InvalidParamsRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class InternalRpcError extends RpcError{constructor(e){super(e,{code:InternalRpcError.code,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}Object.defineProperty(InternalRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class InvalidInputRpcError extends RpcError{constructor(e){super(e,{code:InvalidInputRpcError.code,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join("\n")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}Object.defineProperty(InvalidInputRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class ResourceNotFoundRpcError extends RpcError{constructor(e){super(e,{code:ResourceNotFoundRpcError.code,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(ResourceNotFoundRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class ResourceUnavailableRpcError extends RpcError{constructor(e){super(e,{code:ResourceUnavailableRpcError.code,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}Object.defineProperty(ResourceUnavailableRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class TransactionRejectedRpcError extends RpcError{constructor(e){super(e,{code:TransactionRejectedRpcError.code,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}Object.defineProperty(TransactionRejectedRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class MethodNotSupportedRpcError extends RpcError{constructor(e){super(e,{code:MethodNotSupportedRpcError.code,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}Object.defineProperty(MethodNotSupportedRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class LimitExceededRpcError extends RpcError{constructor(e){super(e,{code:LimitExceededRpcError.code,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}Object.defineProperty(LimitExceededRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class JsonRpcVersionUnsupportedError extends RpcError{constructor(e){super(e,{code:JsonRpcVersionUnsupportedError.code,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}Object.defineProperty(JsonRpcVersionUnsupportedError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class UserRejectedRequestError extends ProviderRpcError{constructor(e){super(e,{code:UserRejectedRequestError.code,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}Object.defineProperty(UserRejectedRequestError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class UnauthorizedProviderError extends ProviderRpcError{constructor(e){super(e,{code:UnauthorizedProviderError.code,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}Object.defineProperty(UnauthorizedProviderError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class UnsupportedProviderMethodError extends ProviderRpcError{constructor(e){super(e,{code:UnsupportedProviderMethodError.code,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}Object.defineProperty(UnsupportedProviderMethodError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class ProviderDisconnectedError extends ProviderRpcError{constructor(e){super(e,{code:ProviderDisconnectedError.code,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}Object.defineProperty(ProviderDisconnectedError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class ChainDisconnectedError extends ProviderRpcError{constructor(e){super(e,{code:ChainDisconnectedError.code,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}Object.defineProperty(ChainDisconnectedError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class SwitchChainError extends ProviderRpcError{constructor(e){super(e,{code:SwitchChainError.code,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}Object.defineProperty(SwitchChainError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class UnknownRpcError extends RpcError{constructor(e){super(e,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}const et=3;function tt(e,{abi:t,address:r,args:n,docsPath:a,functionName:o,sender:s}){const{code:i,data:c,message:u,shortMessage:l}=e instanceof RawContractError?e:e instanceof BaseError?e.walk((e=>"data"in e))||e.walk():{},d=e instanceof AbiDecodingZeroDataError?new ContractFunctionZeroDataError({functionName:o}):[et,InternalRpcError.code].includes(i)&&(c||u||l)?new ContractFunctionRevertedError({abi:t,data:"object"==typeof c?c.data:c,functionName:o,message:l??u}):e;return new ContractFunctionExecutionError(d,{abi:t,args:n,contractAddress:r,docsPath:a,functionName:o,sender:s})}class AccountNotFoundError extends BaseError{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the WalletClient."].join("\n"),{docsPath:e,docsSlug:"account"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountNotFoundError"})}}class EstimateGasExecutionError extends BaseError{constructor(e,{account:t,docsPath:r,chain:n,data:a,gas:o,gasPrice:s,maxFeePerGas:i,maxPriorityFeePerGas:c,nonce:u,to:l,value:d}){var p;const f=Qe({from:null==t?void 0:t.address,to:l,value:void 0!==d&&`${Ye(d)} ${(null==(p=null==n?void 0:n.nativeCurrency)?void 0:p.symbol)||"ETH"}`,data:a,gas:o,gasPrice:void 0!==s&&`${G(s)} gwei`,maxFeePerGas:void 0!==i&&`${G(i)} gwei`,maxPriorityFeePerGas:void 0!==c&&`${G(c)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",f].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=e}}function rt(e,t){const r=(e.details||"").toLowerCase(),n=e.walk((e=>e.code===ExecutionRevertedError.code));return n instanceof BaseError?new ExecutionRevertedError({cause:e,message:n.details}):ExecutionRevertedError.nodeMessage.test(r)?new ExecutionRevertedError({cause:e,message:e.details}):FeeCapTooHighError.nodeMessage.test(r)?new FeeCapTooHighError({cause:e,maxFeePerGas:null==t?void 0:t.maxFeePerGas}):FeeCapTooLowError.nodeMessage.test(r)?new FeeCapTooLowError({cause:e,maxFeePerGas:null==t?void 0:t.maxFeePerGas}):NonceTooHighError.nodeMessage.test(r)?new NonceTooHighError({cause:e,nonce:null==t?void 0:t.nonce}):NonceTooLowError.nodeMessage.test(r)?new NonceTooLowError({cause:e,nonce:null==t?void 0:t.nonce}):NonceMaxValueError.nodeMessage.test(r)?new NonceMaxValueError({cause:e,nonce:null==t?void 0:t.nonce}):InsufficientFundsError.nodeMessage.test(r)?new InsufficientFundsError({cause:e}):IntrinsicGasTooHighError.nodeMessage.test(r)?new IntrinsicGasTooHighError({cause:e,gas:null==t?void 0:t.gas}):IntrinsicGasTooLowError.nodeMessage.test(r)?new IntrinsicGasTooLowError({cause:e,gas:null==t?void 0:t.gas}):TransactionTypeNotSupportedError.nodeMessage.test(r)?new TransactionTypeNotSupportedError({cause:e}):TipAboveFeeCapError.nodeMessage.test(r)?new TipAboveFeeCapError({cause:e,maxFeePerGas:null==t?void 0:t.maxFeePerGas,maxPriorityFeePerGas:null==t?void 0:t.maxPriorityFeePerGas}):new UnknownNodeError({cause:e})}function nt(e,{format:t}){if(!t)return{};const r={};return function t(n){const a=Object.keys(n);for(const o of a)o in e&&(r[o]=e[o]),n[o]&&"object"==typeof n[o]&&!Array.isArray(n[o])&&t(n[o])}(t(e||{})),r}function at(e){const{account:t,gasPrice:r,maxFeePerGas:n,maxPriorityFeePerGas:a,to:o}=e,s=t?De(t):void 0;if(s&&!q(s.address))throw new InvalidAddressError({address:s.address});if(o&&!q(o))throw new InvalidAddressError({address:o});if(void 0!==r&&(void 0!==n||void 0!==a))throw new FeeConflictError;if(n&&n>2n**256n-1n)throw new FeeCapTooHighError({maxFeePerGas:n});if(a&&n&&a>n)throw new TipAboveFeeCapError({maxFeePerGas:n,maxPriorityFeePerGas:a})}class BaseFeeScalarError extends BaseError{constructor(){super("`baseFeeMultiplier` must be greater than 1."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseFeeScalarError"})}}class Eip1559FeesNotSupportedError extends BaseError{constructor(){super("Chain does not support EIP-1559 fees."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Eip1559FeesNotSupportedError"})}}class MaxFeePerGasTooLowError extends BaseError{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${G(e)} gwei).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MaxFeePerGasTooLowError"})}}class BlockNotFoundError extends BaseError{constructor({blockHash:e,blockNumber:t}){let r="Block";e&&(r=`Block at hash "${e}"`),t&&(r=`Block at number "${t}"`),super(`${r} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}async function ot(e,{blockHash:t,blockNumber:r,blockTag:n,includeTransactions:a}={}){var o,s,i;const c=n??"latest",u=a??!1,l=void 0!==r?m(r):void 0;let d=null;if(d=t?await e.request({method:"eth_getBlockByHash",params:[t,u]}):await e.request({method:"eth_getBlockByNumber",params:[l||c,u]}),!d)throw new BlockNotFoundError({blockHash:t,blockNumber:r});return((null==(i=null==(s=null==(o=e.chain)?void 0:o.formatters)?void 0:s.block)?void 0:i.format)||$)(d)}async function st(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function it(e,t){var r,n,a;const{block:o,chain:s=e.chain,request:i}=t||{};if("function"==typeof(null==(r=null==s?void 0:s.fees)?void 0:r.defaultPriorityFee)){const t=o||await Z(e,ot,"getBlock")({});return s.fees.defaultPriorityFee({block:t,client:e,request:i})}if(void 0!==(null==(n=null==s?void 0:s.fees)?void 0:n.defaultPriorityFee))return null==(a=null==s?void 0:s.fees)?void 0:a.defaultPriorityFee;try{return N(await e.request({method:"eth_maxPriorityFeePerGas"}))}catch{const[t,r]=await Promise.all([o?Promise.resolve(o):Z(e,ot,"getBlock")({}),Z(e,st,"getGasPrice")({})]);if("bigint"!=typeof t.baseFeePerGas)throw new Eip1559FeesNotSupportedError;const n=r-t.baseFeePerGas;return n<0n?0n:n}}async function ct(e,t){var r,n;const{block:a,chain:o=e.chain,request:s,type:i="eip1559"}=t||{},c=await(async()=>{var t,r;return"function"==typeof(null==(t=null==o?void 0:o.fees)?void 0:t.baseFeeMultiplier)?o.fees.baseFeeMultiplier({block:a,client:e,request:s}):(null==(r=null==o?void 0:o.fees)?void 0:r.baseFeeMultiplier)??1.2})();if(c<1)throw new BaseFeeScalarError;const u=10**((null==(r=c.toString().split(".")[1])?void 0:r.length)??0),l=e=>e*BigInt(Math.ceil(c*u))/BigInt(u),d=a||await Z(e,ot,"getBlock")({});if("function"==typeof(null==(n=null==o?void 0:o.fees)?void 0:n.estimateFeesPerGas))return o.fees.estimateFeesPerGas({block:a,client:e,multiply:l,request:s,type:i});if("eip1559"===i){if("bigint"!=typeof d.baseFeePerGas)throw new Eip1559FeesNotSupportedError;const t=(null==s?void 0:s.maxPriorityFeePerGas)?s.maxPriorityFeePerGas:await it(e,{block:d,chain:o,request:s}),r=l(d.baseFeePerGas);return{maxFeePerGas:(null==s?void 0:s.maxFeePerGas)??r+t,maxPriorityFeePerGas:t}}return{gasPrice:(null==s?void 0:s.gasPrice)??l(await Z(e,st,"getGasPrice")({}))}}async function ut(e,{address:t,blockTag:r="latest",blockNumber:n}){return I(await e.request({method:"eth_getTransactionCount",params:[t,n?m(n):r]}))}async function lt(e,t){const{account:r=e.account,chain:n,gas:a,nonce:o,type:s}=t;if(!r)throw new AccountNotFoundError;const i=De(r),c=await Z(e,ot,"getBlock")({blockTag:"latest"}),u={...t,from:i.address};if(void 0===o&&(u.nonce=await Z(e,ut,"getTransactionCount")({address:i.address,blockTag:"pending"})),void 0===s)try{u.type=function(e){if(e.type)return e.type;if(void 0!==e.maxFeePerGas||void 0!==e.maxPriorityFeePerGas)return"eip1559";if(void 0!==e.gasPrice)return void 0!==e.accessList?"eip2930":"legacy";throw new InvalidSerializableTransactionError({transaction:e})}(u)}catch{u.type="bigint"==typeof c.baseFeePerGas?"eip1559":"legacy"}if("eip1559"===u.type){const{maxFeePerGas:r,maxPriorityFeePerGas:a}=await ct(e,{block:c,chain:n,request:u});if(void 0===t.maxPriorityFeePerGas&&t.maxFeePerGas&&t.maxFeePerGas<a)throw new MaxFeePerGasTooLowError({maxPriorityFeePerGas:a});u.maxPriorityFeePerGas=a,u.maxFeePerGas=r}else{if(void 0!==t.maxFeePerGas||void 0!==t.maxPriorityFeePerGas)throw new Eip1559FeesNotSupportedError;const{gasPrice:r}=await ct(e,{block:c,chain:n,request:u,type:"legacy"});u.gasPrice=r}return void 0===a&&(u.gas=await Z(e,dt,"estimateGas")({...u,account:{address:i.address,type:"json-rpc"}})),at(u),u}async function dt(e,t){var r,n,a;const o=t.account??e.account;if(!o)throw new AccountNotFoundError({docsPath:"/docs/actions/public/estimateGas"});const s=De(o);try{const{accessList:o,blockNumber:i,blockTag:c,data:u,gas:l,gasPrice:d,maxFeePerGas:p,maxPriorityFeePerGas:f,nonce:h,to:b,value:g,...y}="local"===s.type?await lt(e,t):t,v=(i?m(i):void 0)||c;at(t);const w=null==(a=null==(n=null==(r=e.chain)?void 0:r.formatters)?void 0:n.transactionRequest)?void 0:a.format,E=(w||M)({...nt(y,{format:w}),from:s.address,accessList:o,data:u,gas:l,gasPrice:d,maxFeePerGas:p,maxPriorityFeePerGas:f,nonce:h,to:b,value:g}),P=await e.request({method:"eth_estimateGas",params:v?[E,v]:[E]});return BigInt(P)}catch(i){throw function(e,{docsPath:t,...r}){const n=(()=>{const t=rt(e,r);return t instanceof UnknownNodeError?e:t})();return new EstimateGasExecutionError(n,{docsPath:t,...r})}(i,{...t,account:s,chain:e.chain})}}const pt="/docs/contract/decodeEventLog";function ft({abi:e,data:t,strict:r,topics:n}){const a=r??!0,[o,...s]=n;if(!o)throw new AbiEventSignatureEmptyTopicsError({docsPath:pt});const i=e.find((e=>"event"===e.type&&o===xe(K(e))));if(!i||!("name"in i)||"event"!==i.type)throw new AbiEventSignatureNotFoundError(o,{docsPath:pt});const{name:c,inputs:u}=i,l=null==u?void 0:u.some((e=>!("name"in e&&e.name)));let d=l?[]:{};const p=u.filter((e=>"indexed"in e&&e.indexed));for(let m=0;m<p.length;m++){const e=p[m],t=s[m];if(!t)throw new DecodeLogTopicsMismatch({abiItem:i,param:e});d[e.name||m]=ht({param:e,value:t})}const f=u.filter((e=>!("indexed"in e&&e.indexed)));if(f.length>0)if(t&&"0x"!==t)try{const e=We(f,t);if(e)if(l)d=[...d,...e];else for(let t=0;t<f.length;t++)d[f[t].name]=e[t]}catch(h){if(a){if(h instanceof AbiDecodingDataSizeTooSmallError)throw new DecodeLogDataMismatch({abiItem:i,data:h.data,params:h.params,size:h.size});throw h}}else if(a)throw new DecodeLogDataMismatch({abiItem:i,data:"0x",params:f,size:0});return{eventName:c,args:Object.values(d).length>0?d:void 0}}function ht({param:e,value:t}){if("string"===e.type||"bytes"===e.type||"tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/))return t;return(We([e],t)||[])[0]}async function mt(e,{address:t,blockHash:r,fromBlock:n,toBlock:a,event:o,events:s,args:i,strict:c}={}){const u=c??!1,l=s??(o?[o]:void 0);let d,p=[];return l&&(p=[l.flatMap((e=>je({abi:[e],eventName:e.name,args:i})))],o&&(p=p[0])),d=r?await e.request({method:"eth_getLogs",params:[{address:t,topics:p,blockHash:r}]}):await e.request({method:"eth_getLogs",params:[{address:t,topics:p,fromBlock:"bigint"==typeof n?m(n):n,toBlock:"bigint"==typeof a?m(a):a}]}),d.map((e=>{var t;try{const{eventName:t,args:r}=l?ft({abi:l,data:e.data,topics:e.topics,strict:u}):{eventName:void 0,args:void 0};return A(e,{args:r,eventName:t})}catch(r){let n,a;if(r instanceof DecodeLogDataMismatch||r instanceof DecodeLogTopicsMismatch){if(u)return;n=r.abiItem.name,a=null==(t=r.abiItem.inputs)?void 0:t.some((e=>!("name"in e&&e.name)))}return A(e,{args:a?[]:{},eventName:n})}})).filter(Boolean)}async function bt(e,{abi:t,address:r,args:n,blockHash:a,eventName:o,fromBlock:s,toBlock:i,strict:c}){const u=o?Ae({abi:t,name:o}):void 0,l=u?void 0:t.filter((e=>"event"===e.type));return Z(e,mt,"getLogs")({address:r,args:n,blockHash:a,event:u,events:l,fromBlock:s,toBlock:i,strict:c})}const gt="/docs/contract/decodeFunctionResult";function yt({abi:e,args:t,functionName:r,data:n}){let a=e[0];if(r&&(a=Ae({abi:e,args:t,name:r}),!a))throw new AbiFunctionNotFoundError(r,{docsPath:gt});if("function"!==a.type)throw new AbiFunctionNotFoundError(void 0,{docsPath:gt});if(!a.outputs)throw new AbiFunctionOutputsNotFoundError(a.name,{docsPath:gt});const o=We(a.outputs,n);return o&&o.length>1?o:o&&1===o.length?o[0]:void 0}const vt=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],wt=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"}],Et=[...wt,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Pt=[...wt,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],xt=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],kt=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],Nt=[{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}],Tt="0x82ad56cb";function It({blockNumber:e,chain:t,contract:r}){var n;const a=null==(n=null==t?void 0:t.contracts)?void 0:n[r];if(!a)throw new ChainDoesNotSupportContract({chain:t,contract:{name:r}});if(e&&a.blockCreated&&a.blockCreated>e)throw new ChainDoesNotSupportContract({blockNumber:e,chain:t,contract:{name:r,blockCreated:a.blockCreated}});return a.address}const Rt=new Map;function Ft({fn:e,id:t,shouldSplitBatch:r,wait:n=0,sort:a}){const o=async()=>{const t=i();s();const r=t.map((({args:e})=>e));0!==r.length&&e(r).then((e=>{var r;a&&Array.isArray(e)&&e.sort(a);for(let n=0;n<t.length;n++){const{pendingPromise:a}=t[n];null==(r=a.resolve)||r.call(a,[e[n],e])}})).catch((e=>{var r;for(let n=0;n<t.length;n++){const{pendingPromise:a}=t[n];null==(r=a.reject)||r.call(a,e)}}))},s=()=>Rt.delete(t),i=()=>Rt.get(t)||[],c=e=>Rt.set(t,[...i(),e]);return{flush:s,async schedule(e){const t={},a=new Promise(((e,r)=>{t.resolve=e,t.reject=r}));(null==r?void 0:r([...i().map((({args:e})=>e)),e]))&&o();return i().length>0?(c({args:e,pendingPromise:t}),a):(c({args:e,pendingPromise:t}),setTimeout(o,n),a)}}}async function Bt(t,r){var n,a,o,s;const{account:i=t.account,batch:c=Boolean(null==(n=t.batch)?void 0:n.multicall),blockNumber:u,blockTag:l="latest",accessList:d,data:p,gas:f,gasPrice:h,maxFeePerGas:b,maxPriorityFeePerGas:g,nonce:y,to:v,value:w,...E}=r,P=i?De(i):void 0;try{at(r);const e=(u?m(u):void 0)||l,n=null==(s=null==(o=null==(a=t.chain)?void 0:a.formatters)?void 0:o.transactionRequest)?void 0:s.format,i=(n||M)({...nt(E,{format:n}),from:null==P?void 0:P.address,accessList:d,data:p,gas:f,gasPrice:h,maxFeePerGas:b,maxPriorityFeePerGas:g,nonce:y,to:v,value:w});if(c&&function({request:e}){const{data:t,to:r,...n}=e;return!!t&&(!t.startsWith(Tt)&&(!!r&&!(Object.values(n).filter((e=>void 0!==e)).length>0)))}({request:i}))try{return await async function(e,t){var r;const{batchSize:n=1024,wait:a=0}="object"==typeof(null==(r=e.batch)?void 0:r.multicall)?e.batch.multicall:{},{blockNumber:o,blockTag:s="latest",data:i,multicallAddress:c,to:u}=t;let l=c;if(!l){if(!e.chain)throw new ClientChainNotConfiguredError;l=It({blockNumber:o,chain:e.chain,contract:"multicall3"})}const d=o?m(o):void 0,p=d||s,{schedule:f}=Ft({id:`${e.uid}.${p}`,wait:a,shouldSplitBatch:e=>e.reduce(((e,{data:t})=>e+(t.length-2)),0)>2*n,fn:async t=>{const r=t.map((e=>({allowFailure:!0,callData:e.data,target:e.to}))),n=Le({abi:vt,args:[r],functionName:"aggregate3"}),a=await e.request({method:"eth_call",params:[{data:n,to:l},p]});return yt({abi:vt,args:[r],functionName:"aggregate3",data:a||"0x"})}}),[{returnData:h,success:b}]=await f({data:i,to:u});if(!b)throw new RawContractError({data:h});return"0x"===h?{data:void 0}:{data:h}}(t,{...i,blockNumber:u,blockTag:l})}catch(x){if(!(x instanceof ClientChainNotConfiguredError||x instanceof ChainDoesNotSupportContract))throw x}const k=await t.request({method:"eth_call",params:e?[i,e]:[i]});return"0x"===k?{data:void 0}:{data:k}}catch(x){const n=function(e){if(!(e instanceof BaseError))return;const t=e.walk();return"object"==typeof t.data?t.data.data:t.data}(x),{offchainLookup:a,offchainLookupSignature:o}=await e((()=>Promise.resolve().then((()=>Mr))),void 0,import.meta.url);if((null==n?void 0:n.slice(0,10))===o&&v)return{data:await a(t,{data:n,to:v})};throw function(e,{docsPath:t,...r}){const n=(()=>{const t=rt(e,r);return t instanceof UnknownNodeError?e:t})();return new CallExecutionError(n,{docsPath:t,...r})}(x,{...r,account:P,chain:t.chain})}}async function $t(e,{abi:t,address:r,args:n,functionName:a,...o}){const s=Le({abi:t,args:n,functionName:a});try{const{data:i}=await Z(e,Bt,"call")({data:s,to:r,...o});return yt({abi:t,args:n,functionName:a,data:i||"0x"})}catch(i){throw tt(i,{abi:t,address:r,args:n,docsPath:"/docs/contract/readContract",functionName:a})}}const At=new Map,Ot=new Map;let Ct=0;function jt(e,t,r){const n=++Ct,a=()=>At.get(e)||[],o=()=>{const t=Ot.get(e);1===a().length&&t&&t(),(()=>{const t=a();At.set(e,t.filter((e=>e.id!==n)))})()},s=a();if(At.set(e,[...s,{id:n,fns:t}]),s&&s.length>0)return o;const i={};for(const u in t)i[u]=(...e)=>{var t,r;const n=a();if(0!==n.length)for(const a of n)null==(r=(t=a.fns)[u])||r.call(t,...e)};const c=r(i);return"function"==typeof c&&Ot.set(e,c),o}async function Mt(e){return new Promise((t=>setTimeout(t,e)))}function St(e,{emitOnBegin:t,initialWaitTime:r,interval:n}){let a=!0;const o=()=>a=!1;return(async()=>{let s;t&&(s=await e({unpoll:o}));const i=await(null==r?void 0:r(s))??n;await Mt(i);const c=async()=>{a&&(await e({unpoll:o}),await Mt(n),c())};c()})(),o}const zt=new Map,Dt=new Map;async function Lt(e,{cacheKey:t,cacheTime:r=1/0}){const n=function(e){const t=(e,t)=>({clear:()=>t.delete(e),get:()=>t.get(e),set:r=>t.set(e,r)}),r=t(e,zt),n=t(e,Dt);return{clear:()=>{r.clear(),n.clear()},promise:r,response:n}}(t),a=n.response.get();if(a&&r>0){if((new Date).getTime()-a.created.getTime()<r)return a.data}let o=n.promise.get();o||(o=e(),n.promise.set(o));try{const e=await o;return n.response.set({created:new Date,data:e}),e}finally{n.promise.clear()}}const Gt=e=>`blockNumber.${e}`;async function Ut(e,{cacheTime:t=e.cacheTime,maxAge:r}={}){const n=await Lt((()=>e.request({method:"eth_blockNumber"})),{cacheKey:Gt(e.uid),cacheTime:r??t});return BigInt(n)}async function qt(e,{filter:t}){const r="strict"in t&&t.strict;return(await t.request({method:"eth_getFilterChanges",params:[t.id]})).map((e=>{var n;if("string"==typeof e)return e;try{const{eventName:n,args:a}="abi"in t&&t.abi?ft({abi:t.abi,data:e.data,topics:e.topics,strict:r}):{eventName:void 0,args:void 0};return A(e,{args:a,eventName:n})}catch(a){let r,o;if(a instanceof DecodeLogDataMismatch||a instanceof DecodeLogTopicsMismatch){if("strict"in t&&t.strict)return;r=a.abiItem.name,o=null==(n=a.abiItem.inputs)?void 0:n.some((e=>!("name"in e&&e.name)))}return A(e,{args:o?[]:{},eventName:r})}})).filter(Boolean)}async function _t(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function Ht({chain:e,currentChainId:t}){if(!e)throw new ChainNotFoundError;if(t!==e.id)throw new ChainMismatchError({chain:e,currentChainId:t})}async function Wt(e){return I(await e.request({method:"eth_chainId"}))}async function Jt(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]})}async function Vt(e,t){var r,n,a,o;const{account:s=e.account,chain:i=e.chain,accessList:c,data:u,gas:l,gasPrice:d,maxFeePerGas:p,maxPriorityFeePerGas:f,nonce:h,to:m,value:b,...g}=t;if(!s)throw new AccountNotFoundError({docsPath:"/docs/actions/wallet/sendTransaction"});const y=De(s);try{let s;if(at(t),null!==i&&(s=await Z(e,Wt,"getChainId")({}),Ht({currentChainId:s,chain:i})),"local"===y.type){const t=await Z(e,lt,"prepareTransactionRequest")({account:y,accessList:c,chain:i,data:u,gas:l,gasPrice:d,maxFeePerGas:p,maxPriorityFeePerGas:f,nonce:h,to:m,value:b,...g});s||(s=await Z(e,Wt,"getChainId")({}));const n=null==(r=null==i?void 0:i.serializers)?void 0:r.transaction,a=await y.signTransaction({...t,chainId:s},{serializer:n});return await Z(e,Jt,"sendRawTransaction")({serializedTransaction:a})}const v=null==(o=null==(a=null==(n=e.chain)?void 0:n.formatters)?void 0:a.transactionRequest)?void 0:o.format,w=(v||M)({...nt(g,{format:v}),accessList:c,data:u,from:y.address,gas:l,gasPrice:d,maxFeePerGas:p,maxPriorityFeePerGas:f,nonce:h,to:m,value:b});return await e.request({method:"eth_sendTransaction",params:[w]})}catch(v){throw function(e,{docsPath:t,...r}){const n=(()=>{const t=rt(e,r);return t instanceof UnknownNodeError?e:t})();return new TransactionExecutionError(n,{docsPath:t,...r})}(v,{...t,account:y,chain:t.chain||void 0})}}const Zt=256;let Kt,Xt=Zt;function Yt(e=11){if(!Kt||Xt+e>2*Zt){Kt="",Xt=0;for(let e=0;e<Zt;e++)Kt+=(256+256*Math.random()|0).toString(16).substring(1)}return Kt.substring(Xt,Xt+++e)}function Qt(e){const{batch:t,cacheTime:r=e.pollingInterval??4e3,key:n="base",name:a="Base Client",pollingInterval:o=4e3,type:s="base"}=e,i=e.chain,c=e.account?De(e.account):void 0,{config:u,request:l,value:d}=e.transport({chain:i,pollingInterval:o}),p={account:c,batch:t,cacheTime:r,chain:i,key:n,name:a,pollingInterval:o,request:l,transport:{...u,...d},type:s,uid:Yt()};return Object.assign(p,{extend:function e(t){return r=>{const n=r(t);for(const e in p)delete n[e];const a={...t,...n};return Object.assign(a,{extend:e(a)})}}(p)})}function er(e,{delay:t=100,retryCount:r=2,shouldRetry:n=(()=>!0)}={}){return new Promise(((a,o)=>{const s=async({count:i=0}={})=>{try{const t=await e();a(t)}catch(c){if(i<r&&await n({count:i,error:c}))return(async({error:e})=>{const r="function"==typeof t?t({count:i,error:e}):t;r&&await Mt(r),s({count:i+1})})({error:c});o(c)}};s()}))}const tr=e=>"code"in e?-1!==e.code&&-32004!==e.code&&-32005!==e.code&&-32042!==e.code&&-32603!==e.code:!!(e instanceof HttpRequestError&&e.status)&&(403!==e.status&&408!==e.status&&413!==e.status&&429!==e.status&&500!==e.status&&502!==e.status&&503!==e.status&&504!==e.status);function rr(e,{retryDelay:t=150,retryCount:r=3}={}){return async n=>er((async()=>{try{return await e(n)}catch(t){const e=t;switch(e.code){case ParseRpcError.code:throw new ParseRpcError(e);case InvalidRequestRpcError.code:throw new InvalidRequestRpcError(e);case MethodNotFoundRpcError.code:throw new MethodNotFoundRpcError(e);case InvalidParamsRpcError.code:throw new InvalidParamsRpcError(e);case InternalRpcError.code:throw new InternalRpcError(e);case InvalidInputRpcError.code:throw new InvalidInputRpcError(e);case ResourceNotFoundRpcError.code:throw new ResourceNotFoundRpcError(e);case ResourceUnavailableRpcError.code:throw new ResourceUnavailableRpcError(e);case TransactionRejectedRpcError.code:throw new TransactionRejectedRpcError(e);case MethodNotSupportedRpcError.code:throw new MethodNotSupportedRpcError(e);case LimitExceededRpcError.code:throw new LimitExceededRpcError(e);case JsonRpcVersionUnsupportedError.code:throw new JsonRpcVersionUnsupportedError(e);case UserRejectedRequestError.code:throw new UserRejectedRequestError(e);case UnauthorizedProviderError.code:throw new UnauthorizedProviderError(e);case UnsupportedProviderMethodError.code:throw new UnsupportedProviderMethodError(e);case ProviderDisconnectedError.code:throw new ProviderDisconnectedError(e);case ChainDisconnectedError.code:throw new ChainDisconnectedError(e);case SwitchChainError.code:throw new SwitchChainError(e);case 5e3:throw new UserRejectedRequestError(e);default:if(t instanceof BaseError)throw t;throw new UnknownRpcError(e)}}}),{delay:({count:e,error:r})=>{var n;if(r&&r instanceof HttpRequestError){const e=null==(n=null==r?void 0:r.headers)?void 0:n.get("Retry-After");if(null==e?void 0:e.match(/\d/))return 1e3*parseInt(e)}return~~(1<<e)*t},retryCount:r,shouldRetry:({error:e})=>!tr(e)})}function nr({key:e,name:t,request:r,retryCount:n=3,retryDelay:a=150,timeout:o,type:s},i){return{config:{key:e,name:t,request:r,retryCount:n,retryDelay:a,timeout:o,type:s},request:rr(r,{retryCount:n,retryDelay:a}),value:i}}function ar(e,t={}){const{key:r="custom",name:n="Custom Provider",retryDelay:a}=t;return({retryCount:o})=>nr({key:r,name:n,request:e.request.bind(e),retryCount:t.retryCount??o,retryDelay:a,type:"custom"})}function or(e,t={}){const{key:r="fallback",name:n="Fallback",rank:a=!1,retryCount:o,retryDelay:s}=t;return({chain:t,pollingInterval:i=4e3,timeout:c})=>{let u=e,l=()=>{};const d=nr({key:r,name:n,async request({method:e,params:r}){const n=async(a=0)=>{const o=u[a]({chain:t,retryCount:0,timeout:c});try{const t=await o.request({method:e,params:r});return l({method:e,params:r,response:t,transport:o,status:"success"}),t}catch(s){if(l({error:s,method:e,params:r,transport:o,status:"error"}),tr(s))throw s;if(a===u.length-1)throw s;return n(a+1)}};return n()},retryCount:o,retryDelay:s,type:"fallback"},{onResponse:e=>l=e,transports:u.map((e=>e({chain:t,retryCount:0})))});if(a){const e="object"==typeof a?a:{};!function({chain:e,interval:t=4e3,onTransports:r,sampleCount:n=10,timeout:a=1e3,transports:o,weights:s={}}){const{stability:i=.7,latency:c=.3}=s,u=[],l=async()=>{const s=await Promise.all(o.map((async t=>{const r=t({chain:e,retryCount:0,timeout:a}),n=Date.now();let o,s;try{await r.request({method:"net_listening"}),s=1}catch{s=0}finally{o=Date.now()}return{latency:o-n,success:s}})));u.push(s),u.length>n&&u.shift();const d=Math.max(...u.map((e=>Math.max(...e.map((({latency:e})=>e)))))),p=o.map(((e,t)=>{const r=u.map((e=>e[t].latency)),n=1-r.reduce(((e,t)=>e+t),0)/r.length/d,a=u.map((e=>e[t].success)),o=a.reduce(((e,t)=>e+t),0)/a.length;return 0===o?[0,t]:[c*n+i*o,t]})).sort(((e,t)=>t[0]-e[0]));r(p.map((([,e])=>o[e]))),await Mt(t),l()};l()}({chain:t,interval:e.interval??i,onTransports:e=>u=e,sampleCount:e.sampleCount,timeout:e.timeout,transports:u,weights:e.weights})}return d}}class UrlRequiredError extends BaseError{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}}function sr(e,{errorInstance:t=new Error("timed out"),timeout:r,signal:n}){return new Promise(((a,o)=>{(async()=>{let s;try{const i=new AbortController;r>0&&(s=setTimeout((()=>{n?i.abort():o(t)}),r)),a(await e({signal:null==i?void 0:i.signal}))}catch(i){"AbortError"===i.name&&o(t),o(i)}finally{clearTimeout(s)}})()}))}let ir=0;const cr=new Map;async function ur(e){let r=cr.get(e);if(r)return r;const{schedule:n}=Ft({id:e,fn:async()=>{const n=new t(e),a=new Map,o=new Map,s=({data:e})=>{const t=JSON.parse(e),r="eth_subscription"===t.method,n=r?t.params.subscription:t.id,s=r?o:a,i=s.get(n);i&&i({data:e}),r||s.delete(n)},i=()=>{cr.delete(e),n.removeEventListener("close",i),n.removeEventListener("message",s)};return n.addEventListener("close",i),n.addEventListener("message",s),n.readyState===t.CONNECTING&&await new Promise(((e,t)=>{n&&(n.onopen=e,n.onerror=t)})),r=Object.assign(n,{requests:a,subscriptions:o}),cr.set(e,r),[r]}}),[a,[o]]=await n();return o}const lr={http:async function(e,{body:t,fetchOptions:r={},timeout:n=1e4}){var a;const{headers:o,method:s,signal:i}=r;try{const c=await sr((async({signal:a})=>await fetch(e,{...r,body:Array.isArray(t)?Ke(t.map((e=>({jsonrpc:"2.0",id:e.id??ir++,...e})))):Ke({jsonrpc:"2.0",id:t.id??ir++,...t}),headers:{...o,"Content-Type":"application/json"},method:s||"POST",signal:i||(n>0?a:void 0)})),{errorInstance:new TimeoutError({body:t,url:e}),timeout:n,signal:!0});let u;if(u=(null==(a=c.headers.get("Content-Type"))?void 0:a.startsWith("application/json"))?await c.json():await c.text(),!c.ok)throw new HttpRequestError({body:t,details:Ke(u.error)||c.statusText,headers:c.headers,status:c.status,url:e});return u}catch(c){if(c instanceof HttpRequestError)throw c;if(c instanceof TimeoutError)throw c;throw new HttpRequestError({body:t,details:c.message,url:e})}},webSocket:function(e,{body:t,onResponse:r}){if(e.readyState===e.CLOSED||e.readyState===e.CLOSING)throw new WebSocketRequestError({body:t,url:e.url,details:"Socket is closed."});const n=ir++,a=({data:o})=>{var s;const i=JSON.parse(o);"number"==typeof i.id&&n!==i.id||(null==r||r(i),"eth_subscribe"===t.method&&"string"==typeof i.result&&e.subscriptions.set(i.result,a),"eth_unsubscribe"===t.method&&e.subscriptions.delete(null==(s=t.params)?void 0:s[0]))};return e.requests.set(n,a),e.send(JSON.stringify({jsonrpc:"2.0",...t,id:n})),e},webSocketAsync:async function(e,{body:t,timeout:r=1e4}){return sr((()=>new Promise((r=>lr.webSocket(e,{body:t,onResponse:r})))),{errorInstance:new TimeoutError({body:t,url:e.url}),timeout:r})}};function dr(e,t={}){const{batch:r,fetchOptions:n,key:a="http",name:o="HTTP JSON-RPC",retryDelay:s}=t;return({chain:i,retryCount:c,timeout:u})=>{const{batchSize:l=1e3,wait:d=0}="object"==typeof r?r:{},p=t.retryCount??c,f=u??t.timeout??1e4,h=e||(null==i?void 0:i.rpcUrls.default.http[0]);if(!h)throw new UrlRequiredError;return nr({key:a,name:o,async request({method:t,params:a}){const o={method:t,params:a},{schedule:s}=Ft({id:`${e}`,wait:d,shouldSplitBatch:e=>e.length>l,fn:e=>lr.http(h,{body:e,fetchOptions:n,timeout:f}),sort:(e,t)=>e.id-t.id}),[{error:i,result:c}]=await(async e=>r?s(e):[await lr.http(h,{body:e,fetchOptions:n,timeout:f})])(o);if(i)throw new RpcRequestError({body:o,error:i,url:h});return c},retryCount:p,retryDelay:s,timeout:f,type:"http"},{fetchOptions:n,url:e})}}function pr(e,t){var r,n,a;if(!(e instanceof BaseError))return!1;const o=e.walk((e=>e instanceof ContractFunctionRevertedError));return o instanceof ContractFunctionRevertedError&&("ResolverNotFound"===(null==(r=o.data)?void 0:r.errorName)||("ResolverWildcardNotSupported"===(null==(n=o.data)?void 0:n.errorName)||(!!(null==(a=o.reason)?void 0:a.includes("Wildcard on non-extended resolvers is not supported"))||"reverse"===t&&o.reason===Ge[50])))}function fr(e){if(66!==e.length)return null;if(0!==e.indexOf("["))return null;if(65!==e.indexOf("]"))return null;const t=`0x${e.slice(1,65)}`;return s(t)?t:null}function hr(e){let t=new Uint8Array(32).fill(0);if(!e)return h(t);const r=e.split(".");for(let n=r.length-1;n>=0;n-=1){const e=fr(r[n]),a=e?v(e):Pe(x(r[n]),"bytes");t=Pe(_([t,a]),"bytes")}return h(t)}function mr(e){const t=new Uint8Array(32).fill(0);return e?fr(e)||Pe(x(e)):h(t)}function br(e){const t=e.replace(/^\.|\.$/gm,"");if(0===t.length)return new Uint8Array(1);const r=new Uint8Array(x(t).byteLength+2);let n=0;const a=t.split(".");for(let o=0;o<a.length;o++){let e=x(a[o]);e.byteLength>255&&(e=x(`[${mr(a[o]).slice(2)}]`)),r[n]=e.length,r.set(e,n+1),n+=e.length+1}return r.byteLength!==n+1?r.slice(0,n+1):r}async function gr(e,{blockNumber:t,blockTag:r,coinType:n,name:a,universalResolverAddress:o}){let s=o;if(!s){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");s=It({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const o=Le({abi:kt,functionName:"addr",...null!=n?{args:[hr(a),BigInt(n)]}:{args:[hr(a)]}}),i=await Z(e,$t,"readContract")({address:s,abi:Et,functionName:"resolve",args:[p(br(a)),o],blockNumber:t,blockTag:r});if("0x"===i[0])return null;const u=yt({abi:kt,args:null!=n?[hr(a),BigInt(n)]:void 0,functionName:"addr",data:i[0]});return"0x"===u||"0x00"===c(u)?null:u}catch(i){if(pr(i,"resolve"))return null;throw i}}class EnsAvatarInvalidMetadataError extends BaseError{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class EnsAvatarInvalidNftUriError extends BaseError{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class EnsAvatarUriResolutionError extends BaseError{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class EnsAvatarUnsupportedNamespaceError extends BaseError{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}const yr=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,vr=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,wr=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,Er=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;function Pr(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function xr({uri:e,gatewayUrls:t}){const r=wr.test(e);if(r)return{uri:e,isOnChain:!0,isEncoded:r};const n=Pr(null==t?void 0:t.ipfs,"https://ipfs.io"),a=Pr(null==t?void 0:t.arweave,"https://arweave.net"),o=e.match(yr),{protocol:s,subpath:i,target:c,subtarget:u=""}=(null==o?void 0:o.groups)||{},l="ipns:/"===s||"ipns/"===i,d="ipfs:/"===s||"ipfs/"===i||vr.test(e);if(e.startsWith("http")&&!l&&!d){let r=e;return(null==t?void 0:t.arweave)&&(r=e.replace(/https:\/\/arweave.net/g,null==t?void 0:t.arweave)),{uri:r,isOnChain:!1,isEncoded:!1}}if((l||d)&&c)return{uri:`${n}/${l?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if("ar:/"===s&&c)return{uri:`${a}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let p=e.replace(Er,"");if(p.startsWith("<svg")&&(p=`data:image/svg+xml;base64,${btoa(p)}`),p.startsWith("data:")||p.startsWith("{"))return{uri:p,isOnChain:!0,isEncoded:!1};throw new EnsAvatarUriResolutionError({uri:e})}function kr(e){if("object"!=typeof e||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new EnsAvatarInvalidMetadataError({data:e});return e.image||e.image_url||e.image_data}async function Nr({gatewayUrls:e,uri:t}){const{uri:r,isOnChain:n}=xr({uri:t,gatewayUrls:e});if(n)return r;const a=await async function(e){try{const t=await fetch(e,{method:"HEAD"});if(200===t.status){const e=t.headers.get("content-type");return null==e?void 0:e.startsWith("image/")}return!1}catch(t){return("object"!=typeof t||void 0===t.response)&&!!globalThis.hasOwnProperty("Image")&&new Promise((t=>{const r=new Image;r.onload=()=>{t(!0)},r.onerror=()=>{t(!1)},r.src=e}))}}(r);if(a)return r;throw new EnsAvatarUriResolutionError({uri:t})}async function Tr(e,{gatewayUrls:t,record:r}){return/eip155:/i.test(r)?async function(e,{gatewayUrls:t,record:r}){const n=function(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[r,n,a]=t.split("/"),[o,s]=r.split(":"),[i,c]=n.split(":");if(!o||"eip155"!==o.toLowerCase())throw new EnsAvatarInvalidNftUriError({reason:"Only EIP-155 supported"});if(!s)throw new EnsAvatarInvalidNftUriError({reason:"Chain ID not found"});if(!c)throw new EnsAvatarInvalidNftUriError({reason:"Contract address not found"});if(!a)throw new EnsAvatarInvalidNftUriError({reason:"Token ID not found"});if(!i)throw new EnsAvatarInvalidNftUriError({reason:"ERC namespace not found"});return{chainID:parseInt(s),namespace:i.toLowerCase(),contractAddress:c,tokenID:a}}(r),a=await async function(e,{nft:t}){if("erc721"===t.namespace)return $t(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if("erc1155"===t.namespace)return $t(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new EnsAvatarUnsupportedNamespaceError({namespace:t.namespace})}(e,{nft:n}),{uri:o,isOnChain:s,isEncoded:i}=xr({uri:a,gatewayUrls:t});if(s&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const e=i?atob(o.replace("data:application/json;base64,","")):o;return Nr({uri:kr(JSON.parse(e)),gatewayUrls:t})}let c=n.tokenID;"erc1155"===n.namespace&&(c=c.replace("0x","").padStart(64,"0"));return async function({gatewayUrls:e,uri:t}){try{const r=await fetch(t).then((e=>e.json()));return await Nr({gatewayUrls:e,uri:kr(r)})}catch{throw new EnsAvatarUriResolutionError({uri:t})}}({gatewayUrls:t,uri:o.replace(/(?:0x)?{id}/,c)})}(e,{gatewayUrls:t,record:r}):Nr({uri:r,gatewayUrls:t})}async function Ir(e,{blockNumber:t,blockTag:r,name:n,key:a,universalResolverAddress:o}){let s=o;if(!s){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");s=It({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const o=await Z(e,$t,"readContract")({address:s,abi:Et,functionName:"resolve",args:[p(br(n)),Le({abi:xt,functionName:"text",args:[hr(n),a]})],blockNumber:t,blockTag:r});if("0x"===o[0])return null;const i=yt({abi:xt,functionName:"text",data:o[0]});return""===i?null:i}catch(i){if(pr(i,"resolve"))return null;throw i}}async function Rr(e,{blockNumber:t,blockTag:r,gatewayUrls:n,name:a,universalResolverAddress:o}){const s=await Z(e,Ir,"getEnsText")({blockNumber:t,blockTag:r,key:"avatar",name:a,universalResolverAddress:o});if(!s)return null;try{return await Tr(e,{record:s,gatewayUrls:n})}catch{return null}}async function Fr(e,{address:t,blockNumber:r,blockTag:n,universalResolverAddress:a}){let o=a;if(!o){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");o=It({blockNumber:r,chain:e.chain,contract:"ensUniversalResolver"})}const s=`${t.toLowerCase().substring(2)}.addr.reverse`;try{const[a,i]=await Z(e,$t,"readContract")({address:o,abi:Pt,functionName:"reverse",args:[p(br(s))],blockNumber:r,blockTag:n});return t.toLowerCase()!==i.toLowerCase()?null:a}catch(i){if(pr(i,"reverse"))return null;throw i}}async function Br(e,{blockNumber:t,blockTag:r,name:n,universalResolverAddress:a}){let o=a;if(!o){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");o=It({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}const[s]=await Z(e,$t,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[p(br(n))],blockNumber:t,blockTag:r});return s}async function $r(e,{address:t,args:r,event:n,events:a,fromBlock:o,strict:s,toBlock:i}={}){const c=a??(n?[n]:void 0),u=Se(e,{method:"eth_newFilter"});let l=[];c&&(l=[c.flatMap((e=>je({abi:[e],eventName:e.name,args:r})))],n&&(l=l[0]));const d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:"bigint"==typeof o?m(o):o,toBlock:"bigint"==typeof i?m(i):i,...l.length?{topics:l}:{}}]});return{abi:c,args:r,eventName:n?n.name:void 0,fromBlock:o,id:d,request:u(d),strict:s,toBlock:i,type:"event"}}async function Ar(e){const t=Se(e,{method:"eth_newPendingTransactionFilter"}),r=await e.request({method:"eth_newPendingTransactionFilter"});return{id:r,request:t(r),type:"transaction"}}async function Or(e,{blockCount:t,blockNumber:r,blockTag:n="latest",rewardPercentiles:a}){const o=r?m(r):void 0;return function(e){var t;return{baseFeePerGas:e.baseFeePerGas.map((e=>BigInt(e))),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:null==(t=e.reward)?void 0:t.map((e=>e.map((e=>BigInt(e)))))}}(await e.request({method:"eth_feeHistory",params:[m(t),o||n,a]}))}class OffchainLookupError extends BaseError{constructor({callbackSelector:e,cause:t,data:r,extraData:n,sender:a,urls:o}){var s;super(t.shortMessage||"An error occurred while fetching for an offchain result.",{cause:t,metaMessages:[...t.metaMessages||[],(null==(s=t.metaMessages)?void 0:s.length)?"":[],"Offchain Gateway Call:",o&&["  Gateway URL(s):",...o.map((e=>`    ${e}`))],`  Sender: ${a}`,`  Data: ${r}`,`  Callback selector: ${e}`,`  Extra data: ${n}`].flat()}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupError"})}}class OffchainLookupResponseMalformedError extends BaseError{constructor({result:e,url:t}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${t}`,`Response: ${Ke(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupResponseMalformedError"})}}class OffchainLookupSenderMismatchError extends BaseError{constructor({sender:e,to:t}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${t}`,`OffchainLookup sender address: ${e}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupSenderMismatchError"})}}const Cr={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function jr({data:e,sender:t,urls:r}){var n;let a=new Error("An unknown error occurred.");for(let i=0;i<r.length;i++){const c=r[i],u=c.includes("{data}")?"GET":"POST",l="POST"===u?{data:e,sender:t}:void 0;try{const r=await fetch(c.replace("{sender}",t).replace("{data}",e),{body:JSON.stringify(l),method:u});let o;if(o=(null==(n=r.headers.get("Content-Type"))?void 0:n.startsWith("application/json"))?(await r.json()).data:await r.text(),!r.ok){a=new HttpRequestError({body:l,details:(null==o?void 0:o.error)?Ke(o.error):r.statusText,headers:r.headers,status:r.status,url:c});continue}if(!s(o)){a=new OffchainLookupResponseMalformedError({result:o,url:c});continue}return o}catch(o){a=new HttpRequestError({body:l,details:o.message,url:c})}}throw a}const Mr=Object.freeze(Object.defineProperty({__proto__:null,ccipFetch:jr,offchainLookup:async function(e,{blockNumber:t,blockTag:r,data:n,to:a}){const{args:o}=Ze({data:n,abi:[Cr]}),[s,i,c,u,l]=o;try{if(!function(e,t){if(!q(e))throw new InvalidAddressError({address:e});if(!q(t))throw new InvalidAddressError({address:t});return e.toLowerCase()===t.toLowerCase()}(a,s))throw new OffchainLookupSenderMismatchError({sender:s,to:a});const n=await jr({data:c,sender:s,urls:i}),{data:o}=await Bt(e,{blockNumber:t,blockTag:r,data:_([u,Ie([{type:"bytes"},{type:"bytes"}],[n,l])]),to:a});return o}catch(d){throw new OffchainLookupError({callbackSelector:u,cause:d,data:n,extraData:l,sender:s,urls:i})}},offchainLookupAbiItem:Cr,offchainLookupSignature:"0x556f1830"},Symbol.toStringTag,{value:"Module"})),Sr=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,zr=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Dr({domain:e,message:t,primaryType:r,types:n}){const a=void 0===e?{}:e,o={EIP712Domain:Wr({domain:a}),...n};Hr({domain:a,message:t,primaryType:r,types:o});const s=["0x1901"];return a&&s.push(function({domain:e,types:t}){return Lr({data:e,primaryType:"EIP712Domain",types:t})}({domain:a,types:o})),"EIP712Domain"!==r&&s.push(Lr({data:t,primaryType:r,types:o})),Pe(_(s))}function Lr({data:e,primaryType:t,types:r}){return Pe(Gr({data:e,primaryType:t,types:r}))}function Gr({data:e,primaryType:t,types:r}){const n=[{type:"bytes32"}],a=[Ur({primaryType:t,types:r})];for(const o of r[t]){const[t,s]=_r({types:r,name:o.name,type:o.type,value:e[o.name]});n.push(t),a.push(s)}return Ie(n,a)}function Ur({primaryType:e,types:t}){const r=p(function({primaryType:e,types:t}){let r="";const n=qr({primaryType:e,types:t});n.delete(e);const a=[e,...Array.from(n).sort()];for(const o of a)r+=`${o}(${t[o].map((({name:e,type:t})=>`${t} ${e}`)).join(",")})`;return r}({primaryType:e,types:t}));return Pe(r)}function qr({primaryType:e,types:t},r=new Set){const n=e.match(/^\w*/u),a=null==n?void 0:n[0];if(r.has(a)||void 0===t[a])return r;r.add(a);for(const o of t[a])qr({primaryType:o.type,types:t},r);return r}function _r({types:e,name:t,type:r,value:n}){if(void 0!==e[r])return[{type:"bytes32"},Pe(Gr({data:n,primaryType:r,types:e}))];if("bytes"===r){return[{type:"bytes32"},Pe(n=`0x${(n.length%2?"0":"")+n.slice(2)}`)]}if("string"===r)return[{type:"bytes32"},Pe(p(n))];if(r.lastIndexOf("]")===r.length-1){const a=r.slice(0,r.lastIndexOf("[")),o=n.map((r=>_r({name:t,type:a,types:e,value:r})));return[{type:"bytes32"},Pe(Ie(o.map((([e])=>e)),o.map((([,e])=>e))))]}return[{type:r},n]}function Hr({domain:e,message:t,primaryType:r,types:n}){const a=n,o=(e,t)=>{for(const r of e){const{name:e,type:n}=r,s=n,c=t[e],u=s.match(zr);if(u&&("number"==typeof c||"bigint"==typeof c)){const[e,t,r]=u;m(c,{signed:"int"===t,size:parseInt(r)/8})}if("address"===s&&"string"==typeof c&&!q(c))throw new InvalidAddressError({address:c});const l=s.match(Sr);if(l){const[e,t]=l;if(t&&i(c)!==parseInt(t))throw new BytesSizeMismatchError({expectedSize:parseInt(t),givenSize:i(c)})}const d=a[s];d&&o(d,c)}};if(a.EIP712Domain&&e&&o(a.EIP712Domain,e),"EIP712Domain"!==r){const e=a[r];o(e,t)}}function Wr({domain:e}){return["string"==typeof(null==e?void 0:e.name)&&{name:"name",type:"string"},(null==e?void 0:e.version)&&{name:"version",type:"string"},"number"==typeof(null==e?void 0:e.chainId)&&{name:"chainId",type:"uint256"},(null==e?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(null==e?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}const Jr="/docs/contract/encodeDeployData";function Vr({abi:e,args:t,bytecode:r}){if(!t||0===t.length)return r;const n=e.find((e=>"type"in e&&"constructor"===e.type));if(!n)throw new AbiConstructorNotFoundError({docsPath:Jr});if(!("inputs"in n))throw new AbiConstructorParamsNotFoundError({docsPath:Jr});if(!n.inputs||0===n.inputs.length)throw new AbiConstructorParamsNotFoundError({docsPath:Jr});return H([r,Ie(n.inputs,t)])}const Zr="\x19Ethereum Signed Message:\n";function Kr(e,t){let[r,n="0"]=e.split(".");const a=r.startsWith("-");if(a&&(r=r.slice(1)),n=n.replace(/(0+)$/,""),0===t)1===Math.round(Number(`.${n}`))&&(r=`${BigInt(r)+1n}`),n="";else if(n.length>t){const[e,a,o]=[n.slice(0,t-1),n.slice(t-1,t),n.slice(t)],s=Math.round(Number(`${a}.${o}`));n=s>9?`${BigInt(e)+BigInt(1)}0`.padStart(e.length+1,"0"):`${e}${s}`,n.length>t&&(n=n.slice(1),r=`${BigInt(r)+1n}`),n=n.slice(0,t)}else n=n.padEnd(t,"0");return BigInt(`${a?"-":""}${r}${n}`)}function Xr(e,t="wei"){return Kr(e,S[t])}async function Yr(e,{address:t,blockNumber:r,blockTag:n,storageKeys:a}){const o=n??"latest",s=void 0!==r?m(r):void 0;return function(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?I(e.nonce):void 0,storageProof:e.storageProof?(t=e.storageProof,t.map((e=>({...e,value:BigInt(e.value)})))):void 0};var t}(await e.request({method:"eth_getProof",params:[t,a,s||o]}))}async function Qr(e,{blockHash:t,blockNumber:r,blockTag:n,hash:a,index:o}){var s,i,c;const u=n||"latest",l=void 0!==r?m(r):void 0;let d=null;if(a?d=await e.request({method:"eth_getTransactionByHash",params:[a]}):t?d=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,m(o)]}):(l||u)&&(d=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[l||u,m(o)]})),!d)throw new TransactionNotFoundError({blockHash:t,blockNumber:r,blockTag:u,hash:a,index:o});return((null==(c=null==(i=null==(s=e.chain)?void 0:s.formatters)?void 0:i.transaction)?void 0:c.format)||B)(d)}async function en(e,{hash:t}){var r,n,a;const o=await e.request({method:"eth_getTransactionReceipt",params:[t]});if(!o)throw new TransactionReceiptNotFoundError({hash:t});return((null==(a=null==(n=null==(r=e.chain)?void 0:r.formatters)?void 0:n.transactionReceipt)?void 0:a.format)||C)(o)}const tn="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";async function rn(e,{address:t,hash:n,signature:a,...o}){const i=s(a)?a:p(a);try{const{data:a}=await Z(e,Bt,"call")({data:Vr({abi:Nt,args:[t,n,i],bytecode:tn}),...o});return function(e,t){const n=s(e)?v(e):e,a=s(t)?v(t):t;return r(n,a)}(a??"0x0","0x1")}catch(c){if(c instanceof CallExecutionError)return!1;throw c}}async function nn(e,{address:t,message:r,signature:n,...a}){const o=function(e,t){const r="string"==typeof e?x(e):e.raw instanceof Uint8Array?e.raw:v(e.raw);return Pe(_([x(`${Zr}${r.length}`),r]),t)}(r);return rn(e,{address:t,hash:o,signature:n,...a})}function an(e,{emitOnBegin:t=!1,emitMissed:r=!1,onBlockNumber:n,onError:a,poll:o,pollingInterval:s=e.pollingInterval}){let i;return(void 0!==o?o:"webSocket"!==e.transport.type)?jt(Ke(["watchBlockNumber",e.uid,t,r,s]),{onBlockNumber:n,onError:a},(n=>St((async()=>{var t;try{const t=await Z(e,Ut,"getBlockNumber")({cacheTime:0});if(i){if(t===i)return;if(t-i>1&&r)for(let e=i+1n;e<t;e++)n.onBlockNumber(e,i),i=e}(!i||t>i)&&(n.onBlockNumber(t,i),i=t)}catch(a){null==(t=n.onError)||t.call(n,a)}}),{emitOnBegin:t,interval:s}))):(()=>{let t=!0,r=()=>t=!1;return(async()=>{try{const{unsubscribe:o}=await e.transport.subscribe({params:["newHeads"],onData(e){var r;if(!t)return;const a=N(null==(r=e.result)?void 0:r.number);n(a,i),i=a},onError(e){null==a||a(e)}});r=o,t||r()}catch(o){null==a||a(o)}})(),r})()}function on(e){return{call:t=>Bt(e,t),createBlockFilter:()=>async function(e){const t=Se(e,{method:"eth_newBlockFilter"}),r=await e.request({method:"eth_newBlockFilter"});return{id:r,request:t(r),type:"block"}}(e),createContractEventFilter:t=>ze(e,t),createEventFilter:t=>$r(e,t),createPendingTransactionFilter:()=>Ar(e),estimateContractGas:t=>async function(e,{abi:t,address:r,args:n,functionName:a,...o}){const s=Le({abi:t,args:n,functionName:a});try{return await Z(e,dt,"estimateGas")({data:s,to:r,...o})}catch(i){const e=o.account?De(o.account):void 0;throw tt(i,{abi:t,address:r,args:n,docsPath:"/docs/contract/estimateContractGas",functionName:a,sender:null==e?void 0:e.address})}}(e,t),estimateGas:t=>dt(e,t),getBalance:t=>async function(e,{address:t,blockNumber:r,blockTag:n="latest"}){const a=r?m(r):void 0,o=await e.request({method:"eth_getBalance",params:[t,a||n]});return BigInt(o)}(e,t),getBlock:t=>ot(e,t),getBlockNumber:t=>Ut(e,t),getBlockTransactionCount:t=>async function(e,{blockHash:t,blockNumber:r,blockTag:n="latest"}={}){const a=void 0!==r?m(r):void 0;let o;return o=t?await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]}):await e.request({method:"eth_getBlockTransactionCountByNumber",params:[a||n]}),I(o)}(e,t),getBytecode:t=>async function(e,{address:t,blockNumber:r,blockTag:n="latest"}){const a=void 0!==r?m(r):void 0,o=await e.request({method:"eth_getCode",params:[t,a||n]});if("0x"!==o)return o}(e,t),getChainId:()=>Wt(e),getContractEvents:t=>bt(e,t),getEnsAddress:t=>gr(e,t),getEnsAvatar:t=>Rr(e,t),getEnsName:t=>Fr(e,t),getEnsResolver:t=>Br(e,t),getEnsText:t=>Ir(e,t),getFeeHistory:t=>Or(e,t),estimateFeesPerGas:t=>async function(e,t){return ct(e,t)}(e,t),getFilterChanges:e=>qt(0,e),getFilterLogs:e=>async function(e,{filter:t}){const r=t.strict??!1;return(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map((e=>{var n;try{const{eventName:n,args:a}="abi"in t&&t.abi?ft({abi:t.abi,data:e.data,topics:e.topics,strict:r}):{eventName:void 0,args:void 0};return A(e,{args:a,eventName:n})}catch(a){let r,o;if(a instanceof DecodeLogDataMismatch||a instanceof DecodeLogTopicsMismatch){if("strict"in t&&t.strict)return;r=a.abiItem.name,o=null==(n=a.abiItem.inputs)?void 0:n.some((e=>!("name"in e&&e.name)))}return A(e,{args:o?[]:{},eventName:r})}})).filter(Boolean)}(0,e),getGasPrice:()=>st(e),getLogs:t=>mt(e,t),getProof:t=>Yr(e,t),estimateMaxPriorityFeePerGas:t=>async function(e,t){return it(e,t)}(e,t),getStorageAt:t=>async function(e,{address:t,blockNumber:r,blockTag:n="latest",slot:a}){const o=void 0!==r?m(r):void 0;return await e.request({method:"eth_getStorageAt",params:[t,a,o||n]})}(e,t),getTransaction:t=>Qr(e,t),getTransactionConfirmations:t=>async function(e,{hash:t,transactionReceipt:r}){const[n,a]=await Promise.all([Z(e,Ut,"getBlockNumber")({}),t?Z(e,Qr,"getBlockNumber")({hash:t}):void 0]),o=(null==r?void 0:r.blockNumber)||(null==a?void 0:a.blockNumber);return o?n-o+1n:0n}(e,t),getTransactionCount:t=>ut(e,t),getTransactionReceipt:t=>en(e,t),multicall:t=>async function(e,t){var r;const{allowFailure:n=!0,batchSize:a,blockNumber:o,blockTag:s,contracts:i,multicallAddress:c}=t,u=a??("object"==typeof(null==(r=e.batch)?void 0:r.multicall)&&e.batch.multicall.batchSize||1024);let l=c;if(!l){if(!e.chain)throw new Error("client chain not configured. multicallAddress is required.");l=It({blockNumber:o,chain:e.chain,contract:"multicall3"})}const d=[[]];let p=0,f=0;for(let g=0;g<i.length;g++){const{abi:e,address:t,args:r,functionName:a}=i[g];try{const n=Le({abi:e,args:r,functionName:a});f+=(n.length-2)/2,u>0&&f>u&&d[p].length>0&&(p++,f=(n.length-2)/2,d[p]=[]),d[p]=[...d[p],{allowFailure:!0,callData:n,target:t}]}catch(b){const o=tt(b,{abi:e,address:t,args:r,docsPath:"/docs/contract/multicall",functionName:a});if(!n)throw o;d[p]=[...d[p],{allowFailure:!0,callData:"0x",target:t}]}}const h=await Promise.allSettled(d.map((t=>Z(e,$t,"readContract")({abi:vt,address:l,args:[t],blockNumber:o,blockTag:s,functionName:"aggregate3"})))),m=[];for(let g=0;g<h.length;g++){const e=h[g];if("rejected"===e.status){if(!n)throw e.reason;for(let t=0;t<d[g].length;t++)m.push({status:"failure",error:e.reason,result:void 0});continue}const t=e.value;for(let r=0;r<t.length;r++){const{returnData:e,success:a}=t[r],{callData:o}=d[g][r],{abi:s,address:c,functionName:u,args:l}=i[m.length];try{if("0x"===o)throw new AbiDecodingZeroDataError;if(!a)throw new RawContractError({data:e});const t=yt({abi:s,args:l,data:e,functionName:u});m.push(n?{result:t,status:"success"}:t)}catch(b){const e=tt(b,{abi:s,address:c,args:l,docsPath:"/docs/contract/multicall",functionName:u});if(!n)throw e;m.push({error:e,result:void 0,status:"failure"})}}}if(m.length!==i.length)throw new BaseError("multicall results mismatch");return m}(e,t),prepareTransactionRequest:t=>lt(e,t),readContract:t=>$t(e,t),sendRawTransaction:t=>Jt(e,t),simulateContract:t=>async function(e,{abi:t,address:r,args:n,dataSuffix:a,functionName:o,...s}){const i=s.account?De(s.account):void 0,c=Le({abi:t,args:n,functionName:o});try{const{data:i}=await Z(e,Bt,"call")({batch:!1,data:`${c}${a?a.replace("0x",""):""}`,to:r,...s});return{result:yt({abi:t,args:n,functionName:o,data:i||"0x"}),request:{abi:t,address:r,args:n,dataSuffix:a,functionName:o,...s}}}catch(u){throw tt(u,{abi:t,address:r,args:n,docsPath:"/docs/contract/simulateContract",functionName:o,sender:null==i?void 0:i.address})}}(e,t),verifyMessage:t=>nn(e,t),verifyTypedData:t=>async function(e,{address:t,signature:r,message:n,primaryType:a,types:o,domain:s,...i}){return rn(e,{address:t,hash:Dr({message:n,primaryType:a,types:o,domain:s}),signature:r,...i})}(e,t),uninstallFilter:e=>_t(0,e),waitForTransactionReceipt:t=>async function(e,{confirmations:t=1,hash:r,onReplaced:n,pollingInterval:a=e.pollingInterval,timeout:o}){const s=Ke(["waitForTransactionReceipt",e.uid,r]);let i,c,u,l=!1;return new Promise(((d,p)=>{o&&setTimeout((()=>p(new WaitForTransactionReceiptTimeoutError({hash:r}))),o);const f=jt(s,{onReplaced:n,resolve:d,reject:p},(n=>{const o=Z(e,an,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:a,async onBlockNumber(a){if(l)return;let s=a;const d=e=>{o(),e(),f()};try{if(u){if(t>1&&(!u.blockNumber||s-u.blockNumber+1n<t))return;return void d((()=>n.resolve(u)))}if(i||(l=!0,await er((async()=>{i=await Z(e,Qr,"getTransaction")({hash:r}),i.blockNumber&&(s=i.blockNumber)}),{delay:({count:e})=>200*~~(1<<e),retryCount:6}),l=!1),u=await Z(e,en,"getTransactionReceipt")({hash:r}),t>1&&(!u.blockNumber||s-u.blockNumber+1n<t))return;d((()=>n.resolve(u)))}catch(p){if(i&&(p instanceof TransactionNotFoundError||p instanceof TransactionReceiptNotFoundError))try{c=i,l=!0;const r=await er((()=>Z(e,ot,"getBlock")({blockNumber:s,includeTransactions:!0})),{delay:({count:e})=>200*~~(1<<e),retryCount:6,shouldRetry:({error:e})=>e instanceof BlockNotFoundError});l=!1;const a=r.transactions.find((({from:e,nonce:t})=>e===c.from&&t===c.nonce));if(!a)return;if(u=await Z(e,en,"getTransactionReceipt")({hash:a.hash}),t>1&&(!u.blockNumber||s-u.blockNumber+1n<t))return;let o="replaced";a.to===c.to&&a.value===c.value?o="repriced":a.from===a.to&&0n===a.value&&(o="cancelled"),d((()=>{var e;null==(e=n.onReplaced)||e.call(n,{reason:o,replacedTransaction:c,transaction:a,transactionReceipt:u}),n.resolve(u)}))}catch(h){d((()=>n.reject(h)))}else d((()=>n.reject(p)))}}})}))}))}(e,t),watchBlocks:t=>function(e,{blockTag:t="latest",emitMissed:r=!1,emitOnBegin:n=!1,onBlock:a,onError:o,includeTransactions:s,poll:i,pollingInterval:c=e.pollingInterval}){const u=void 0!==i?i:"webSocket"!==e.transport.type,l=s??!1;let d;return u?jt(Ke(["watchBlocks",e.uid,r,n,l,c]),{onBlock:a,onError:o},(a=>St((async()=>{var n;try{const n=await Z(e,ot,"getBlock")({blockTag:t,includeTransactions:l});if(n.number&&(null==d?void 0:d.number)){if(n.number===d.number)return;if(n.number-d.number>1&&r)for(let t=(null==d?void 0:d.number)+1n;t<n.number;t++){const r=await Z(e,ot,"getBlock")({blockNumber:t,includeTransactions:l});a.onBlock(r,d),d=r}}(!(null==d?void 0:d.number)||"pending"===t&&!(null==n?void 0:n.number)||n.number&&n.number>d.number)&&(a.onBlock(n,d),d=n)}catch(o){null==(n=a.onError)||n.call(a,o)}}),{emitOnBegin:n,interval:c}))):(()=>{let t=!0,r=()=>t=!1;return(async()=>{try{const{unsubscribe:n}=await e.transport.subscribe({params:["newHeads"],onData(r){var n,o,s;if(!t)return;const i=((null==(s=null==(o=null==(n=e.chain)?void 0:n.formatters)?void 0:o.block)?void 0:s.format)||$)(r.result);a(i,d),d=i},onError(e){null==o||o(e)}});r=n,t||r()}catch(n){null==o||o(n)}})(),r})()}(e,t),watchBlockNumber:t=>an(e,t),watchContractEvent:t=>function(e,{abi:t,address:r,args:n,batch:a=!0,eventName:o,onError:s,onLogs:i,poll:c,pollingInterval:u=e.pollingInterval,strict:l}){return(void 0!==c?c:"webSocket"!==e.transport.type)?(()=>{const c=Ke(["watchContractEvent",r,n,a,e.uid,o,u]),d=l??!1;return jt(c,{onLogs:i,onError:s},(s=>{let i,c,l=!1;const p=St((async()=>{var u;if(l)try{let u;if(c)u=await Z(e,qt,"getFilterChanges")({filter:c});else{const a=await Z(e,Ut,"getBlockNumber")({});u=i&&i!==a?await Z(e,bt,"getContractEvents")({abi:t,address:r,args:n,eventName:o,fromBlock:i+1n,toBlock:a,strict:d}):[],i=a}if(0===u.length)return;if(a)s.onLogs(u);else for(const e of u)s.onLogs([e])}catch(p){c&&p instanceof InvalidInputRpcError&&(l=!1),null==(u=s.onError)||u.call(s,p)}else{try{c=await Z(e,ze,"createContractEventFilter")({abi:t,address:r,args:n,eventName:o,strict:d})}catch{}l=!0}}),{emitOnBegin:!0,interval:u});return async()=>{c&&await Z(e,_t,"uninstallFilter")({filter:c}),p()}}))})():(()=>{let a=!0,c=()=>a=!1;return(async()=>{try{const u=o?je({abi:t,eventName:o,args:n}):[],{unsubscribe:d}=await e.transport.subscribe({params:["logs",{address:r,topics:u}],onData(e){var r;if(!a)return;const n=e.result;try{const{eventName:e,args:r}=ft({abi:t,data:n.data,topics:n.topics,strict:l}),a=A(n,{args:r,eventName:e});i([a])}catch(o){let e,t;if(o instanceof DecodeLogDataMismatch||o instanceof DecodeLogTopicsMismatch){if(l)return;e=o.abiItem.name,t=null==(r=o.abiItem.inputs)?void 0:r.some((e=>!("name"in e&&e.name)))}const a=A(n,{args:t?[]:{},eventName:e});i([a])}},onError(e){null==s||s(e)}});c=d,a||c()}catch(u){null==s||s(u)}})(),c})()}(e,t),watchEvent:t=>function(e,{address:t,args:r,batch:n=!0,event:a,events:o,onError:s,onLogs:i,poll:c,pollingInterval:u=e.pollingInterval,strict:l}){const d=void 0!==c?c:"webSocket"!==e.transport.type,p=l??!1;return d?jt(Ke(["watchEvent",t,r,n,e.uid,a,u]),{onLogs:i,onError:s},(s=>{let i,c,l=!1;const d=St((async()=>{var u;if(l)try{let u;if(c)u=await Z(e,qt,"getFilterChanges")({filter:c});else{const n=await Z(e,Ut,"getBlockNumber")({});u=i&&i!==n?await Z(e,mt,"getLogs")({address:t,args:r,event:a,events:o,fromBlock:i+1n,toBlock:n}):[],i=n}if(0===u.length)return;if(n)s.onLogs(u);else for(const e of u)s.onLogs([e])}catch(d){c&&d instanceof InvalidInputRpcError&&(l=!1),null==(u=s.onError)||u.call(s,d)}else{try{c=await Z(e,$r,"createEventFilter")({address:t,args:r,event:a,events:o,strict:p})}catch{}l=!0}}),{emitOnBegin:!0,interval:u});return async()=>{c&&await Z(e,_t,"uninstallFilter")({filter:c}),d()}})):(()=>{let n=!0,c=()=>n=!1;return(async()=>{try{const u=o??(a?[a]:void 0);let d=[];u&&(d=[u.flatMap((e=>je({abi:[e],eventName:e.name,args:r})))],a&&(d=d[0]));const{unsubscribe:f}=await e.transport.subscribe({params:["logs",{address:t,topics:d}],onData(e){var t;if(!n)return;const r=e.result;try{const{eventName:e,args:t}=ft({abi:u,data:r.data,topics:r.topics,strict:p}),n=A(r,{args:t,eventName:e});i([n])}catch(a){let e,n;if(a instanceof DecodeLogDataMismatch||a instanceof DecodeLogTopicsMismatch){if(l)return;e=a.abiItem.name,n=null==(t=a.abiItem.inputs)?void 0:t.some((e=>!("name"in e&&e.name)))}const o=A(r,{args:n?[]:{},eventName:e});i([o])}},onError(e){null==s||s(e)}});c=f,n||c()}catch(u){null==s||s(u)}})(),c})()}(e,t),watchPendingTransactions:t=>function(e,{batch:t=!0,onError:r,onTransactions:n,poll:a,pollingInterval:o=e.pollingInterval}){return(void 0!==a?a:"webSocket"!==e.transport.type)?jt(Ke(["watchPendingTransactions",e.uid,t,o]),{onTransactions:n,onError:r},(r=>{let n;const a=St((async()=>{var o;try{if(!n)try{return void(n=await Z(e,Ar,"createPendingTransactionFilter")({}))}catch(s){throw a(),s}const o=await Z(e,qt,"getFilterChanges")({filter:n});if(0===o.length)return;if(t)r.onTransactions(o);else for(const e of o)r.onTransactions([e])}catch(s){null==(o=r.onError)||o.call(r,s)}}),{emitOnBegin:!0,interval:o});return async()=>{n&&await Z(e,_t,"uninstallFilter")({filter:n}),a()}})):(()=>{let t=!0,a=()=>t=!1;return(async()=>{try{const{unsubscribe:o}=await e.transport.subscribe({params:["newPendingTransactions"],onData(e){if(!t)return;const r=e.result;n([r])},onError(e){null==r||r(e)}});a=o,t||a()}catch(o){null==r||r(o)}})(),a})()}(e,t)}}function sn(e){const{key:t="public",name:r="Public Client"}=e;return Qt({...e,key:t,name:r,type:"publicClient"}).extend(on)}function cn(e){return{addChain:t=>async function(e,{chain:t}){const{id:r,name:n,nativeCurrency:a,rpcUrls:o,blockExplorers:s}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:m(r),chainName:n,nativeCurrency:a,rpcUrls:o.default.http,blockExplorerUrls:s?Object.values(s).map((({url:e})=>e)):void 0}]})}(e,t),deployContract:t=>function(e,{abi:t,args:r,bytecode:n,...a}){return Vt(e,{...a,data:Vr({abi:t,args:r,bytecode:n})})}(e,t),getAddresses:()=>async function(e){var t;return"local"===(null==(t=e.account)?void 0:t.type)?[e.account.address]:(await e.request({method:"eth_accounts"})).map((e=>_e(e)))}(e),getChainId:()=>Wt(e),getPermissions:()=>async function(e){return await e.request({method:"wallet_getPermissions"})}(e),prepareTransactionRequest:t=>lt(e,t),requestAddresses:()=>async function(e){return(await e.request({method:"eth_requestAccounts"})).map((e=>He(e)))}(e),requestPermissions:t=>async function(e,t){return e.request({method:"wallet_requestPermissions",params:[t]})}(e,t),sendRawTransaction:t=>Jt(e,t),sendTransaction:t=>Vt(e,t),signMessage:t=>async function(e,{account:t=e.account,message:r}){if(!t)throw new AccountNotFoundError({docsPath:"/docs/actions/wallet/signMessage"});const n=De(t);if("local"===n.type)return n.signMessage({message:r});const a="string"==typeof r?g(r):r.raw instanceof Uint8Array?p(r.raw):r.raw;return e.request({method:"personal_sign",params:[a,n.address]})}(e,t),signTransaction:t=>async function(e,t){var r,n,a,o;const{account:s=e.account,chain:i=e.chain,...c}=t;if(!s)throw new AccountNotFoundError({docsPath:"/docs/actions/wallet/signTransaction"});const u=De(s);at({account:u,...t});const l=await Z(e,Wt,"getChainId")({});null!==i&&Ht({currentChainId:l,chain:i});const d=(null==i?void 0:i.formatters)||(null==(r=e.chain)?void 0:r.formatters),p=(null==(n=null==d?void 0:d.transactionRequest)?void 0:n.format)||M;return"local"===u.type?u.signTransaction({...c,chainId:l},{serializer:null==(o=null==(a=e.chain)?void 0:a.serializers)?void 0:o.transaction}):await e.request({method:"eth_signTransaction",params:[{...p(c),chainId:m(l),from:u.address}]})}(e,t),signTypedData:t=>async function(e,{account:t=e.account,domain:r,message:n,primaryType:a,types:o}){if(!t)throw new AccountNotFoundError({docsPath:"/docs/actions/wallet/signTypedData"});const i=De(t),c={EIP712Domain:Wr({domain:r}),...o};if(Hr({domain:r,message:n,primaryType:a,types:c}),"local"===i.type)return i.signTypedData({domain:r,primaryType:a,types:c,message:n});const u=Ke({domain:r??{},primaryType:a,types:c,message:n},((e,t)=>s(t)?t.toLowerCase():t));return e.request({method:"eth_signTypedData_v4",params:[i.address,u]})}(e,t),switchChain:t=>async function(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:m(t)}]})}(e,t),watchAsset:t=>async function(e,t){return await e.request({method:"wallet_watchAsset",params:t})}(e,t),writeContract:t=>async function(e,{abi:t,address:r,args:n,dataSuffix:a,functionName:o,...s}){const i=Le({abi:t,args:n,functionName:o});return await Z(e,Vt,"sendTransaction")({data:`${i}${a?a.replace("0x",""):""}`,to:r,...s})}(e,t)}}function un(e){const{key:t="wallet",name:r="Wallet Client",transport:n}=e;return Qt({...e,key:t,name:r,transport:e=>n({...e,retryCount:0}),type:"walletClient"}).extend(cn)}function ln(e,t={}){const{key:r="webSocket",name:n="WebSocket JSON-RPC",retryDelay:a}=t;return({chain:o,retryCount:s,timeout:i})=>{var c;const u=t.retryCount??s,l=i??t.timeout??1e4,d=e||(null==(c=null==o?void 0:o.rpcUrls.default.webSocket)?void 0:c[0]);if(!d)throw new UrlRequiredError;return nr({key:r,name:n,async request({method:e,params:t}){const r={method:e,params:t},n=await ur(d),{error:a,result:o}=await lr.webSocketAsync(n,{body:r,timeout:l});if(a)throw new RpcRequestError({body:r,error:a,url:d});return o},retryCount:u,retryDelay:a,timeout:l,type:"webSocket"},{getSocket:()=>ur(d),async subscribe({params:e,onData:t,onError:r}){const n=await ur(d),{result:a}=await new Promise(((a,o)=>lr.webSocket(n,{body:{method:"eth_subscribe",params:e},onResponse(e){if(e.error)return o(e.error),void(null==r||r(e.error));"number"!=typeof e.id?"eth_subscription"===e.method&&t(e.params):a(e)}})));return{subscriptionId:a,unsubscribe:async()=>new Promise((e=>lr.webSocket(n,{body:{method:"eth_unsubscribe",params:[a]},onResponse:e})))}}})}}const dn=a({id:5,network:"goerli",name:"Goerli",nativeCurrency:{name:"Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://eth-goerli.g.alchemy.com/v2"],webSocket:["wss://eth-goerli.g.alchemy.com/v2"]},infura:{http:["https://goerli.infura.io/v3"],webSocket:["wss://goerli.infura.io/ws/v3"]},default:{http:["https://rpc.ankr.com/eth_goerli"]},public:{http:["https://rpc.ankr.com/eth_goerli"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://goerli.etherscan.io"},default:{name:"Etherscan",url:"https://goerli.etherscan.io"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0x56522D00C410a43BFfDF00a9A569489297385790",blockCreated:8765204},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:6507670}},testnet:!0}),pn=a({id:1,network:"homestead",name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://eth-mainnet.g.alchemy.com/v2"],webSocket:["wss://eth-mainnet.g.alchemy.com/v2"]},infura:{http:["https://mainnet.infura.io/v3"],webSocket:["wss://mainnet.infura.io/ws/v3"]},default:{http:["https://cloudflare-eth.com"]},public:{http:["https://cloudflare-eth.com"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://etherscan.io"},default:{name:"Etherscan",url:"https://etherscan.io"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xc0497E381f536Be9ce14B0dD3817cBcAe57d2F62",blockCreated:16966585},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}});const fn=Object.freeze(Object.defineProperty({__proto__:null,getEnsAddress:gr,getEnsAvatar:Rr,getEnsName:Fr,getEnsResolver:Br,getEnsText:Ir,labelhash:mr,namehash:hr,normalize:function(e){return n(e)}},Symbol.toStringTag,{value:"Module"}));export{BaseError as B,ContractFunctionExecutionError as C,ResourceUnavailableRpcError as R,SwitchChainError as S,UserRejectedRequestError as U,He as a,ar as b,un as c,sn as d,R as e,or as f,dn as g,dr as h,L as i,D as j,Kr as k,fn as l,pn as m,m as n,Xr as p,c as t,ln as w};
